{"version":3,"sources":["components/Navigation/icons8-chat-filled-32.png","components/Navigation/icons8-contacts-32.png","components/Navigation/icons8-marker-32.png","components/RightBar/informant_images sync /^/.//.*$","components/Navigation/icons8-waypoint-map-32.png","components/RightBar/informant_images/123.jpg","components/RightBar/informant_images/150.jpg","components/RightBar/informant_images/235.jpg","components/RightBar/informant_images/241.jpg","components/RightBar/informant_images/90.jpg","components/RightBar/informant_images/noprofile.png","components/Heading/assets/DENM0001.png","components/HelpView/HelpView.js","utils.js","data-stores/DisplayArtifactModel.js","data-stores/SessionStorageModel.js","components/NexusGraph/NexusGraphModel.js","components/MapView/MapView.js","components/Navigation/NavigationDropdownMenu.js","actions/actionTypes.js","actions/navigatorActions.js","actions/searchActions.js","components/Navigation/NavigatorComponent.js","actions/tabViewerActions.js","components/NexusGraph/NexusGraph.js","components/Navigation/SearchComponent.js","components/Navigation/Navigation.js","components/RightBar/RightBar.js","components/StoryView/StoryView.js","components/PlaceView/PlaceView.js","components/PeopleView/PeopleView.js","components/FieldtripView/FieldtripView.js","components/BookView/BookView.js","components/NexusGraph/GraphView.js","components/TabViewer/TabViewer.js","components/Heading/Heading.js","App.js","registerServiceWorker.js","reducers/initialState.js","reducers/navigatorReducer.js","reducers/searchReducer.js","reducers/tabViewerReducer.js","reducers/rootReducer.js","data-stores/configureStore.js","index.js"],"names":["module","exports","map","./123.jpg","./150.jpg","./235.jpg","./241.jpg","./90.jpg","./noprofile.png","webpackContext","req","id","webpackContextResolve","__webpack_require__","e","Error","code","keys","Object","resolve","p","HelpView","react_default","a","createElement","className","src","React","Component","arrayTransformation","item","Array","isArray","arrOfObjToObj","arrOfObj","resultObj","forEach","obj","getSiblings","list","key","includes","filter","value","index","indexOf","console","error","allFieldtripId","fieldtripsData","FieldtripsData","fieldtrip","formattedStoryData","AllStories","placesData","places","place","placesMentionedData","PlacesMentionedData","realPeopleData","AllInformants","storiesCollectedData","StoriesCollectedData","data","keywords","dataKeywords","keyword","tango","dataTango","tango_index","etk","dataETK","etk_index","genre","dataGenre","fieldtrips","people","informants","informant","stories","storySearch","story","name","children","ListModel","People","level","Places","Stories","ETK Index","Keywords","Fieldtrips","Genres","Tangherlini Index","getChildren","isObj","items","type","OccupationDictionary","occupations","ontologyToDisplayKey","Keyword","DisplayArtifactToOntology","DisplayArtifact","hasOwnProperty","warn","ontologyToID","tangoTypes","People Classes","Place Classes","Tools, Items and Conveyances","Supernatural Beings","Animals","Action or events","Time, Season, Weather","Resolution","childArray","Stylistics","getFieldtripsByID","fieldtrip_id","fieldtripObject","objectSpread","people_visited","person","places_visited","stories_collected","concat","allFieldtrip","fieldtripIdLoop","toString","_loop","ontology","_allFieldtrip$ontolog","allFieldtripKeyNames","element","full_name","currentKey","fieldtripValue","push","apply","toConsumableArray","datum","end_date","fieldtrip_name","shapefile","start_date","getKeywords","getPeopleByID","person_id","personObject","DefinedPlaces","DefinedStories","DefinedPlace","DefinedStory","getPlacesByID","place_id","placeObject","storiesCollected","storiesMentioned","getStoryByID","story_id","setSessionStorage","object","sessionStorage","setItem","JSON","stringify","getSessionStorage","ItemName","SessionItem","parse","getItem","nodeColors","default","linkColors","primary","secondary","commonElements","array1","array2","nodesToIDArray","nodeCategories","node","itemID","initializeGraph","graphData","nodes","links","initializeNodeCategories","getPrimaryAssociates","primaryAssociates","model","_model$getStoryByID","informant_id","createLinkage","_ref","pastNodes","nodeType","matchID","source","target","find","linkNode","color","_loop2","linkID","secondaryAssociates","_loop3","findIndex","testLink","addNode","_graphData$links","newNode","createNode","splice","_graphData$links2","link","BaseLayer","LayersControl","DEFAULT_MAP_CENTER","MapView","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","tiles","url","attribution","checked","layers","format","prunePlaces","view","AvgLongitude","TotalLongitude","longitude","length","latitude","initialPlace","tile","i","TileLayer","WMSTileLayer","Marker","position","Popup","renderPopup","Map","ref","center","defineMapCenter","bind","zoom","defineMapZoom","boundsOptions","paddingBottomRight","paddingTopLeft","renderTiles","renderMarkers","display_name","Navigation","selectedItem","displayKey","handleMenuSelect","_this2","selectValue","onChange","handleDropdownChange","optionsRender","ADD_TAB","CLOSE_TAB","DISPLAY_ITEMS","FUZZY_SEARCH","MOVE_TAB","SEARCH_ARTIFACT","SEARCH_KEYWORD","SET_SEARCH_STATE","SWITCH_TABS","TIME_FILTER_HANDLER","UPDATE_ITEMS","UPDATE_TAB","displayItems","payload","types","timeFilterHandler","fuzzySearch","SearchInput","DisplayList","searchArtifact","searchKeyword","setSearch","newState","dataNav","TINav","state","activeList","dataNavView","dropdownLists","navigators","tabClass","path","searchState","inputValue","handleLevelTwoClick","setDisplayLabel","setState","actions","getList","setStateAndPathLabel","_ref3","listObject","slice","some","defineProperty","_ref5","isTango","heading_english","oldState","_ref6","_ref7","_ref8","callback","join","_this3","ontologyType","_ref9","onClick","setActiveTab","NavigationDropdownMenu","selectMenu","connect","search","tabViewer","dispatch","bindActionCreators","searchActions","navigatorActions","addTab","DisplayArtifactID","closeTab","TabKey","switchTabs","moveTab","OldTabIndex","NewTabIndex","updateTab","TabIndex","updates","settings","nodeHighlightBehavior","panAndZoom","size","highlightStrokeColor","highlightColor","NexusGraph","lastNodeClicked","lastNodeClickTime","handleClickNode","assertThisInitialized","nodeName","Date","now","nodeToTest","getNodeById","tabViewerActions","lib","config","onClickNode","defaultProps","SearchComponent","renderListofSuggestions","switchKeywordSearch","results","style","cursor","event","preventDefault","keywordSearch","onSubmit","placeholder","navigatorState","itemsList","htmlFor","searchingState","navigator","displayLabel","fromSelect","toSelect","createRef","timeInputClickHandler","timeInputEnd","displayOntology","displayName","image","require","alt","handleIDQuery","_ref2","label","toDisplay","_this$props","_this$props$actions","_this$props$navigator","displayList","fromDate","placeList","timeFilterOn","toDate","Navigation_SearchComponent","NavigatorComponent","min","max","onMouseUp","components_NexusGraph_NexusGraph","height","window","innerHeight","width","innerWidth","components_MapView_MapView","RightBar","isPaneOpen","active","clickHandler","Modal","setAppElement","el","section","marginTop","marginBottom","PPSClickHandler","_this$props$object","informant_first_name","informant_last_name","renderBiography","renderPlaces","renderStories","renderPeople","_this4","mentioned","_this5","_this6","_this$props2","bio","birth_date","death_date","intro_bio","_this7","dist_react_sliding_pane_default","overlayClassName","isOpen","onRequestClose","renderControls","renderContent","indexToVersion","0","1","2","3","StoryView","openTab","storyVersionOpen","twoVersions","lastStoryVersionOpen","placeRecorded","placesMentioned","renderRelatedStories","renderProperty","accordionHandler","stories_mentioned","tab","bibliography_references","reference","display_string","dangerouslySetInnerHTML","__html","version","prevState","versionCount","reduce","totalOpen","property","component","annotation","fielddiary_page_end","fielddiary_page_start","fieldtrip_end_date","fieldtrip_start_date","informant_full_name","order_told","tango_indices","personData","_this$state","PlaceObjectArray","PlacesArray","getPlaceIDList","placeID","data-accordian","bibliographicReferences","marginRight","marginLeft","storyViewerClickHandler","renderComponentView","components_RightBar_RightBar","PlaceView","fontWeight","display","CIToChapterID","4","5","PeopleView","jobList","occupation","occupation_name","testOccupation","ID","occupation_id","res","job","substring","log","CoreInformantID","QueryID","Place","getOccupation","openCoreInformantTab","FieldtripView","PlacesVisited","BookView","dropdownActive","searchActive","searchJSX","searchValue","book","rendition","dropdownJSX","bookRef","handleKeyPress","document","addEventListener","ePub","loaded","navigation","then","toc","chapter","href","trim","location","current","renderTo","menuList","on","newPage","viewIndex","start","removeEventListener","next","prev","query","Promise","all","spine","spineItems","load","finally","unload","queries","entry","cfi","excerpt","stopPropagation","handleSearch","GraphView","showPrimaryLinks","showSecondaryLinks","togglePrimaryLinks","toggleSecondaryLinks","finalData","openNode","TabViewer","dragIndicatorX","dragIndicatorY","dragIndicatorHeight","desiredIndex","originalIndex","tabs","renderActiveTab","tabIndex","components_PeopleView_PeopleView","components_PlaceView_PlaceView","components_FieldtripView_FieldtripView","components_StoryView_StoryView","components_Navigation_Navigation","components_NexusGraph_GraphView","components_BookView_BookView","components_HelpView_HelpView","activeViewIndex","views","activeView","renderPPFS","backgroundColor","dataTransfer","setData","effectAllowed","dropEffect","newIndex","right","left","instance","getBoundingClientRect","y","draggable","onDragStart","handleDragStart","onDragEnter","handleDragEnter","onDragEnd","handleDragEnd","top","Heading","menuActive","menuToggle","xmlns","viewBox","fill","fillRule","stroke","strokeWidth","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeDasharray","strokeDashoffset","fontFamily","fontSize","textAnchor","mixBlendMode","d","paddingTop","paddingLeft","menuItem","App","loading","setTimeout","components_Heading_Heading","components_TabViewer_TabViewer","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","catch","initialState","tabState","CachedState","InitializeTabs","updateItems","idKey","idsInRange","startYear","endYear","fieldtripKey","fieldtripsInDates","parseInt","IDKey","UniqueItemIDs","UniqueItems","firstKey","secondKey","dateFilterHelper","switchTab","OldState","SwitchToIndex","NewState","currentView","currentIndex","rootReducer","combineReducers","arguments","undefined","PlaceList","InitialItem","ShallowPrevState","action","SearchResults","SearchableData","fuse","Fuse","shouldSort","threshold","distance","maxPatternLength","minMatchCharLength","handleFuzzySearch","artifact","InputValue","SearchList","keyword_name","search_string","asyncDispatch","setSearchState","ShallowNewState","matchingViewIndex","newView","updatedViews","RemoveIndex","viewToMove","composeEnhancer","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","asyncDispatchMiddleware","store","syncActivityFinished","actionQueue","flushQueue","actionWithAsyncDispatch","assign","asyncAction","createStore","applyMiddleware","thunk","ReactDOM","render","es","src_App_0","getElementById","URL","process","origin","fetch","response","status","headers","get","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.f81bb8d4.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAI3AAACNwBn+hfPAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAJjSURBVFiFvddLSFVRFAbg76plKBnRO4NCs8eoFwmZjWoQJVSCDYqoScOoQZMKRKKCCKJGTYIGUVAjJYMeFORAggYS1KCgoheVQUIvU7PbYN8DN7lXz331wxrcffba/3/3WXv/6ySMj+XYjI1YhJmYjK94jUe4iQf4M8FaGZHIMt6IdmzBG9zHE/RjCNPRgLVoTolpx1Uk8xESoRzH8RtdWBcjZwFOYxD3MC9f8km4gQG05pG/GI/xAUtyTU4I29cvvPd8US3UwyuhXmJjL35hdQHkEWrwHNfiJkzFZ3QUgTxCs1CMTXEm7xGOVVURBcBd3MHciSZ24XKRyWG3sAvDuI5l2SY+w4ESCGhICYhiBEdkuHt+YEcJBFSNERDFJZRFk8qE6q8ugYDKLOP7cDZdwHssLIGA+nGeHcTW6Md5PCyBgJMyv4IoXqIC1gtOVsgNOBaVgkGNJyCJbVHCLfTI7o65oiMGeRIXo4QVwnk9XATyRvyMKaAvPXGXYMP7CyDfgC8xyZOCc/6DXsGSc0WN0BMM50CexIv0RVpSgy0xSRNYiWP4mCNxFD0VqcVacQXn0J1Gskqw6hbB4weErmk26jA/pths6IVDGMUJzMAmnBI8PYlPef67OLEG3qYEDKQ9eCo0mfWoFb+qc4nb0TbMwna0CU1oTYatOlpk8kEszcCTFeUpxcUgH8XOXMgjTEFnEQR05kMeISEU7fcCBAwJF1ZBmIMz8j//34SvroLNp1wo3CahBZsmFNi71PO21HgmjAgNcUmREFr0C8JFNnYn+oplv3FRJ3y21QqnoXv86f8BfwGvMTgOG2kEBAAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAGFSURBVFiF7Za7SsNgGIYfM3kclNprEN10EIeKV6AoUhG7CApuSkHEQQpegaDOXoCCOHgTFYTiaMFFFFEQrYelJg7/G1qhTf+kySJ94eMP5D18OX1/oIMOwiMNFIAi8KQqAnvAcNLhy8AH4DWpCpBNKnwRcBV0CmSAQdU0cKZzLjAfd3gKeFPAZgAvL84rMBRnA/vUrrwVzsUtxNlASaYZC+6MuNdxNlCRaZ8Fd0Dcdxtjx7KBH0teaI1tA2Wt4xbcCa23lt5W2MXc1gsL7qW4O3E2kAZeZJwP4G2L80wCU3EBqPJ3EHUDPfwdRFUSGEQ+lqhNw0blkuAozgGPAeF+PQArcQY7wHFdQAkzjscwIzql4y3gpo53CHTF0cCRDL+AdYI/XQfYAL6lOWg3PFsXPhlCNyWNh9lFI6EX8zw9YDWCfk3ae8zXEho5GVwR7Vk6mA3Jw/zINCU1w6zWE5mEhSstwFwEPXcKHokiFkblUW5FbAT/JepvowF/a/5sw6ODDv45fgFve3PVQ80KJwAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAHiSURBVFiF7dbbi01RHAfwzxnlcgxexNu8kKSYYjwypSblkkd5VnL5G8j1neTN5Uki/AdElHcURiR3uTUuL2SOh/U7bZ32nLPP7H1mIt9ardX6fX+/72/vtdZvLf7jL8RGnMEoPkQbxWmM9FJ4Be6g0aHdxvKqxYfxOQTe4iCGsCjaWhzCu+B8wrqqxJdFwAbOo96GOxcXgvsRS6pI4GYEvIhaAX4Nl8PnWlnxkQj0BvO68FsgW44N7Yh9HQJtj/44vnaRwBhOtMSYFB5JX7Eyx7YFT/EEm3Lsg+H7oEwCXyJIf47tuezoPcuxzw/bWDuBTkswI/q8nd83wbiJOUU0OiXwMPqhHNtuvMarGLei6VNqCY5Kv/HsJHzPhe/hMgksxbi0ju0KUCvq0v4ZV0ExahaiPV347AufG2XFYXMEe4GZBfizpb3RkH88u0YN9yPgzgL8XcG9q1jpLoQdEfSldOFMhH7Z15eqgK2oSfd8A0fa8I7J3gSVYziCf8NAjn0A34OzvhcJwKUQuJJjuyq7tnuGxbLHydY/5rfF3Hss7GUCZGf8sVRw6tKN2MDeXouTNuStEDyJUzG+rsJj1wmD+Ilf0X5g1VSJN3FA9h7YP9XiMEuqkPdiPC1Yg9XTJf5v4DfD0XufNLPaZQAAAABJRU5ErkJggg==\"","var map = {\n\t\"./123.jpg\": 232,\n\t\"./150.jpg\": 233,\n\t\"./235.jpg\": 234,\n\t\"./241.jpg\": 235,\n\t\"./90.jpg\": 236,\n\t\"./noprofile.png\": 237\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 143;","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAALlSURBVFhHzddZyA1hHMfxY1+zlLVsyZqyliVJWZOlKL3lQiIXEhcoa5ZccEPJkguyZicXSiGy3MhyJylS1pIsiex8v+ecR2Pec+adIxm/+vTOmbeZ5z/PeeZ5npP7H7Ibs1A3/yl9umEb1qKVJypIYyzHIj/8wHc8QJpCbHgPvuAGvO49tqMrkuK95+AZbPcq8gezsQne6D5KFRJveBJMHVThFr7iKAYhnim4g3dYj634VcBED0hbxAvpiXjDtVAqY3AO3vMCxmMYLsPrd6I9zAZUKyAkWoj/v4nJKNdwPANwGPaI159Cb0STWECIhQxF2oZrF/+GdEHfwmG1lCzgBKYWDivOavjEDsRROI8+KJeSBXRCo8JhYhqiPgbjJfqhBfy+7a2OWAd7YDQOoSWiKfsVeLNrKPduz8QnOD6WYj7iXR9NZxxB/BUtW4CTxDGU676H8Bo5ONPG+24p/jWpBuFBrCoc5sZhGS4iFOCYSZumeATfJpOqgOlYXDjMV+973AE7ip9bo5I4dkJSFfC3Yy84AzqAMymgDT7DAZlJAcYiTCYFOAZ8bZ0rMilgIFz6HQuZFFAPzpYmkwJ8rZsUDv9tAU7VvWD39/AE+eMC2sHVLk1coFxXXCX3YwhCEgvojuNwEXFFcwvlqudKuRJv4CLjDshNbbmFawG8fxC+f5NYwBWEi9xiuewORzxuNnwyJ5YJcBtmF/uuby4K97EX3FeGJBZwF+HC255IEXvEPYB7AXvwNHziFTgDN67R/FaAk0M0FvQCzzHWEyXSHC5U7g+c2yuJg3Iv8gUcgKPzEkZ6oobY8Bq8wlO8xWMsQTPUFMeNvfoB8zxh/C5PIqmQaMNP4ABzanWku0+wt15jI8LWO5r+OItv8Ond/lWLhbiFjhYSf+KFiK7rIQ0wF/fwEbvgbwob2gcbtgALqTHRQuyqpIbj8fudhuuwUYuxy+36imMhM5Bmp1wqI+BPsqRNa5bJ5X4C+1vUVnQ/E5gAAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"static/media/123.da74c139.jpg\";","module.exports = __webpack_public_path__ + \"static/media/150.32184947.jpg\";","module.exports = __webpack_public_path__ + \"static/media/235.81d4b369.jpg\";","module.exports = __webpack_public_path__ + \"static/media/241.a447f74b.jpg\";","module.exports = __webpack_public_path__ + \"static/media/90.7f8b02ad.jpg\";","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","// react functionality\nimport React from \"react\";\n// CSS styling\nimport \"./HelpView.css\";\n\nclass HelpView extends React.Component {\n    render() {\n        return (\n            <div className=\"HelpView\">\n                <div className=\"grid-container\">\n                    <h1>Need Help on...</h1>\n                </div>\n                <div className=\"grid-container\">\n                    <div className=\"grid-x grid-padding-x small-up-2 medium-up-3\">\n                        <div className=\"cell\">\n                            <div className=\"card\">\n                                <img src=\"\"/>\n                                    <div className=\"card-section\">\n                                        <h4>Getting Started</h4>\n                                        <p>This row of cards is embedded in an X-Y Block Grid.</p>\n                                    </div>\n                            </div>\n                        </div>\n                        <div className=\"cell\">\n                            <div className=\"card\">\n                                <img src=\"\"/>\n                                    <div className=\"card-section\">\n                                        <h4>Story View / Person View</h4>\n                                        <p>It has an easy to override visual style, and is appropriately subdued.</p>\n                                    </div>\n                            </div>\n                        </div>\n                        <div className=\"cell\">\n                            <div className=\"card\">\n                                <img src=\"\"/>\n                                    <div className=\"card-section\">\n                                        <h4>Place View / Fieldtrip View</h4>\n                                        <p>It has an easy to override visual style, and is appropriately subdued.</p>\n                                    </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"grid-container\">\n                    <div className=\"grid-x grid-padding-x small-up-2 medium-up-3\">\n                        <div className=\"cell\">\n                            <div className=\"card\">\n                                <img src=\"\"/>\n                                <div className=\"card-section\">\n                                    <h4>User Nexus Graph</h4>\n                                    <p>This row of cards is embedded in an X-Y Block Grid.</p>\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"cell\">\n                            <div className=\"card\">\n                                <img src=\"\"/>\n                                <div className=\"card-section\">\n                                    <h4>Search Features</h4>\n                                    <p>It has an easy to override visual style, and is appropriately subdued.</p>\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"cell\">\n                            <div className=\"card\">\n                                <img src=\"\"/>\n                                <div className=\"card-section\">\n                                    <h4>Book Chapters.</h4>\n                                    <p>It has an easy to override visual style, and is appropriately subdued.</p>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default HelpView;\n","/**\n * Ensure that the input is an array\n * @param {*} item The input to array-ify\n * @returns {Array} Either the input if it was already an array, or a single element array containing the input\n */\nexport function arrayTransformation(item) {\n    if (Array.isArray(item)) {\n        // if the input is already an array, just return it\n        return item;\n    } else if (typeof item !== \"undefined\" && item !== null) {\n        // assuming it is defined properly, return a single element array with the input in it\n        return [item];\n    } else {\n        // return empty if the item is undefined/null\n        return [];\n    }\n}\n\n/**\n * Convert a list of places to a list of IDs\n * @param {Array} places The list of places to convert\n * @returns {Array} A list of the places' IDs\n */\nexport function getPlaceIDList(places) {\n    return places.map((places) => places.place_id);\n}\n\n\n/**\n * Creates a given array to only have unique values\n * @param {Array} a array we want to remove duplicates for\n * @return {Array} r the array with unique values\n * */\nexport function ArrNoDupe(a) {\n    var temp = {};\n    for (var i = 0; i < a.length; i++)\n        temp[a[i]] = true;\n    var r = [];\n    for (var k in temp)\n        r.push(k);\n    return r;\n}","// import raw people data\nimport AllInformants from \"../data/allinformants.json\";\n// import raw story data\nimport AllStories from \"../data/allstories.json\";\n// import ETK data\nimport dataETK from \"../data/cetk_indices.json\";\n// import data for fieldtrips\nimport FieldtripsData from \"../data/cfieldtrips.json\";\n// import genre data\nimport dataGenre from \"../data/cgenres.json\";\n// import people data\nimport informants from \"../data/cinformants.json\";\n// import keyword data\nimport dataKeywords from \"../data/ckeywords.json\";\n// import occupation data\nimport occupations from \"../data/coccupations.json\";\n// import place data\nimport places from \"../data/cplaces.json\";\n// import data for mentioned places\nimport PlacesMentionedData from \"../data/cplaces_mentioned.json\";\n// import story data\nimport storySearch from \"../data/cstories.json\";\n// import data for places with collected stories\nimport StoriesCollectedData from \"../data/cstories_collected.json\";\n// import tango indices data\nimport dataTango from \"../data/ctango_indices.json\";\n// import the arrayTransformation() function\nimport {arrayTransformation} from \"../utils\";\n\n// helper functions\n\n// not sure about this\nfunction arrOfObjToObj(arrOfObj, id) {\n    // store the resulting object\n    let resultObj = {};\n\n    // for each obj in the arrOfObj\n    arrOfObj.forEach((obj) => {\n        // my brain can't comprehend this for some reason\n        // something about about setting the data inside the resulting object based on its appropriate or specified place i think\n        resultObj[obj[id]] = obj;\n    });\n\n    // return the object\n    return resultObj;\n}\n\n/**\n * @param {Array} list The list to search through\n * @param {*} key The key to check for\n * @returns {Array} An array of values with the same key\n */\nfunction getSiblings(list, key) {\n    // if key is one of these types\n    if ([\"MAIN\", \"TOPIC\", \"PPS\", \"\"].includes(key)) {\n        // no need to modify it, apparently\n        return list;\n    } else if (typeof list !== \"undefined\" && typeof key !== \"undefined\") {\n        // if we have a defined list and key\n        // return the list, with any duplicates filtered out\n        return list.filter((value, index) => list.indexOf(value) === index);\n    } else {\n        // failed to obtain anything, better alert this\n        console.error(\"Can't get siblings!\");\n    }\n}\n\n// fieldtrip_id of all fieldtrip is -1\nconst allFieldtripId = -1;\n// converted data for fieldtrips\nconst fieldtripsData = arrOfObjToObj(FieldtripsData.fieldtrip, \"fieldtrip_id\");\n// converted data for stories\nconst formattedStoryData = arrOfObjToObj(AllStories, \"story_id\");\n// converted general place data\nconst placesData = arrOfObjToObj(places.place, \"place_id\");\n// converted data for mentioned places\nconst placesMentionedData = arrOfObjToObj(PlacesMentionedData.place, \"place_id\");\n// converted data for people\nconst realPeopleData = arrOfObjToObj(AllInformants, \"person_id\");\n// converted data for places with collected stories\nconst storiesCollectedData = arrOfObjToObj(StoriesCollectedData.place, \"place_id\");\n\n// data for the ontology types\nconst data = {\n    \"keywords\": dataKeywords.keyword,\n    \"tango\": dataTango.tango_index,\n    \"etk\": dataETK.etk_index,\n    \"genre\": dataGenre.genre,\n    \"fieldtrips\": FieldtripsData.fieldtrip,\n    \"people\": informants.informant,\n    \"places\": places.place,\n    \"stories\": storySearch.story,\n};\n\n// data for keywords\nconst keywords = {\n    \"name\": \"keywords\",\n    \"children\": getSiblings(data.keywords, \"keyword_name\"),\n};\n\n// just a bunch of data for the ontologies\nconst ListModel = {\n    \"People\": {\n        \"name\": \"People\",\n        \"children\": getSiblings(data.people, \"full_name\"),\n        \"level\": 2,\n    },\n    \"Places\": {\n        \"name\": \"Places\",\n        \"children\": getSiblings(data.places, \"name\"),\n        \"level\": 2,\n    },\n    \"Stories\": {\n        \"name\": \"Stories\",\n        \"children\": getSiblings(data.stories, \"full_name\"),\n        \"level\": 2,\n    },\n    \"ETK Index\": {\n        \"name\": \"ETK Index\",\n        \"children\": getSiblings(data.etk, \"heading_english\"),\n        \"level\": 2,\n    },\n    \"Keywords\": {\n        \"name\": \"Keywords\",\n        \"children\": getSiblings(data.keywords, \"keyword_name\"),\n        \"level\": 2,\n    },\n    \"Fieldtrips\": {\n        \"name\": \"Fieldtrips\",\n        \"children\": getSiblings(data.fieldtrips, \"fieldtrip_name\"),\n        \"level\": 2,\n    },\n    \"Genres\": {\n        \"name\": \"Genres\",\n        \"children\": getSiblings(data.genre, \"name\"),\n        \"level\": 2,\n    },\n    \"Tangherlini Index\": {\n        \"name\": \"Tangherlini Index\",\n        \"children\": getSiblings(data.tango, \"type\"),\n        \"level\": 2,\n    },\n};\n\n/**\n * Used for tangoTypes\n * @param {*} value The value that the key should match\n * @param {boolean} isObj Controls whether the objects or their names should be returned\n * @returns {Array} An array of same key:pair value (i.e. gets me a list of all children of \"Places\")\n */\nfunction getChildren(value, isObj) {\n    // data.tango filtered for items whose type matches the passed value\n    let items = data.tango.filter(item => item.type === value);\n    // if objects are not desired\n    if (isObj === false) {\n        // replace each object in the result with its name\n        items = items.map(item => item.name);\n    }\n    // return the filtered, possibly modified list\n    return items;\n}\n\n// array of occupations\nexport const OccupationDictionary = occupations.occupations;\n\n// use this to get the display attribute for different ontologies\nexport const ontologyToDisplayKey = {\n    \"ETK Index\": \"heading_english\",\n    \"Tangherlini Index\": \"type\",\n    \"Fieldtrips\": \"fieldtrip_name\",\n    \"Genres\": \"name\",\n    \"People\": \"full_name\",\n    \"Places\": \"name\",\n    \"Stories\": \"full_name\",\n    \"Keyword\": \"keyword_name\",\n};\n\n// given an object, return the appropriate display attribute\n/**\n * @return {string}\n */\nexport function DisplayArtifactToDisplayKey(DisplayArtifact) {\n    if (\"keyword_name\" in DisplayArtifact) {\n        return \"keyword_name\";\n    } else if (\"search_string\" in DisplayArtifact) {\n        return \"search_string\";\n    } else if (\"full_name\" in DisplayArtifact) {\n        return \"full_name\";\n    } else if (\"name\" in DisplayArtifact) {\n        return \"name\";\n    } else if (\"fieldtrip_name\" in DisplayArtifact) {\n        return \"fieldtrip_name\";\n    }\n}\n\n/**\n * Find the ontology of a display artifact\n * @param {Object} DisplayArtifact Display Artifact to find ontology of\n * @returns {String} Ontology of the artifact\n */\nexport function DisplayArtifactToOntology(DisplayArtifact) {\n    if (DisplayArtifact.hasOwnProperty(\"story_id\")) {\n        return \"Stories\";\n    } else if (DisplayArtifact.hasOwnProperty(\"place_id\")) {\n        return \"Places\";\n    } else if (DisplayArtifact.hasOwnProperty(\"person_id\")) {\n        return \"People\";\n    } else if (DisplayArtifact.hasOwnProperty(\"fieldtrip_id\")) {\n        return \"Fieldtrips\";\n    } else {\n        console.warn(\"Artifact is invalid!\", DisplayArtifact);\n    }\n}\n\n// the ID attribute for different data types\nexport const ontologyToID = {\n    \"Stories\": \"story_id\",\n    \"Places\": \"place_id\",\n    \"People\": \"person_id\",\n    \"Fieldtrips\": \"fieldtrip_id\",\n};\n\n// get the id\n/**\n * @return {string}\n */\nexport function ArtifactoID(DisplayArtifact) {\n    if (typeof DisplayArtifact === \"string\") {\n        if (\"story_id\" in DisplayArtifact) {\n            return \"story_id\";\n        } else if (\"place_id\" in DisplayArtifact) {\n            return \"place_id\";\n        } else if (\"people_id\" in DisplayArtifact) {\n            return \"people_id\";\n        }\n    }\n    return \"you screwed up. this doesnt have an id\";\n}\n\n// data for the tangherlini index part of topic & index navigator\nexport const tangoTypes = {\n    \"People Classes\": {\n        \"name\": \"People Classes\",\n        \"children\": getChildren(\"People Classes\", true),\n        \"level\": 3,\n    },\n    \"Place Classes\": {\n        \"name\": \"Places\",\n        \"children\": getChildren(\"Place Classes\", true),\n        \"level\": 3,\n    },\n    \"Tools, Items and Conveyances\": {\n        \"name\": \"Tools, Items and Conveyances\",\n        \"children\": getChildren(\"Tools, Items and Conveyances\", true),\n        \"level\": 3,\n    },\n    \"Supernatural Beings\": {\n        \"name\": \"Supernatural Beings\",\n        \"children\": getChildren(\"Supernatural Beings\", true),\n        \"level\": 3,\n    },\n    \"Animals\": {\n        \"name\": \"Animals\",\n        \"children\": getChildren(\"Animals\", true),\n        \"level\": 3,\n    },\n    \"Action or events\": {\n        \"name\": \"Action or events\",\n        \"children\": getChildren(\"Action or events\", true),\n        \"level\": 3,\n    },\n    \"Time, Season, Weather\": {\n        \"name\": \"Time, Season, Weather\",\n        \"children\": getChildren(\"Time, Season, Weather\", true),\n        \"level\": 3,\n    },\n    \"Resolution\": {\n        \"name\": \"Resolution\",\n        \"childArray\": getChildren(\"Resolution\", false),\n        \"children\": getChildren(\"Resolution\", true),\n        \"level\": 3,\n    },\n    \"Stylistics\": {\n        \"name\": \"Stylistics\",\n        \"children\": getChildren(\"Stylistics\", true),\n        \"level\": 3,\n    },\n};\n\n/**\n * Retrieve items between two specified years\n * @param {*} startYear Earlier boundary of the time interval\n * @param {*} endYear Later boundary of the time interval\n * @param {*} ontology Ontology of the items to retrieve\n * @returns {Array} All desired items in the specified range\n */\nexport function dateFilterHelper(startYear, endYear, ontology) {\n    // go through fieldtrips to see which fieldtrips fit within dates\n    const fieldtripsInDates = data.fieldtrips.filter((fieldtrip) =>\n        parseInt(fieldtrip.start_date, 10) >= startYear &&\n        parseInt(fieldtrip.end_date, 10) <= endYear),\n        // get the key needed to retrieve IDs\n        IDKey = ontologyToID[ontology];\n    let fieldtripKey,\n        // array to store IDs of items to return\n        UniqueItemIDs = [],\n        // array to store the actual items to return\n        UniqueItems = [];\n    // handling to get the necessary objects from fieldtrips, due to weird data\n    switch (ontology) {\n        case \"Fieldtrips\":\n            // we already have the fieldtrips in range, so we can return that and stop\n            return fieldtripsInDates;\n        case \"People\":\n            fieldtripKey = {\n                \"firstKey\": \"people_visited\",\n                \"secondKey\": \"person\",\n            };\n            break;\n        case \"Places\":\n            fieldtripKey = {\n                \"firstKey\": \"places_visited\",\n                \"secondKey\": \"place\",\n            };\n            break;\n        case \"Stories\":\n            fieldtripKey = {\n                \"firstKey\": \"stories_collected\",\n                \"secondKey\": \"story\",\n            };\n            break;\n        default:\n            // invalid ontology, warn this and return nothing\n            console.warn(`Invalid ontology: ${ontology}`);\n            return [];\n    }\n    // for fieldtrips that fit within dates\n    fieldtripsInDates.forEach((fieldtrip) => {\n        let uncleanedItems;\n        // if we can directly get an array, it is good data and we can just use that\n        if (Array.isArray(fieldtrip[fieldtripKey.firstKey]) === true) {\n            uncleanedItems = fieldtrip[fieldtripKey.firstKey];\n        } else {\n            // bad data, must use the ugly double key access to get the proper array\n            uncleanedItems = fieldtrip[fieldtripKey.firstKey][fieldtripKey.secondKey];\n        }\n        // for each of the retrieved items\n        arrayTransformation(uncleanedItems).forEach((item) => {\n            // make sure we aren't adding a dupe item\n            if (UniqueItemIDs.includes(item[IDKey]) === false) {\n                // add it to our array to return\n                UniqueItems.push(item);\n                // add it to the ID list of found items\n                UniqueItemIDs.push(item[IDKey]);\n            }\n        });\n    });\n    return UniqueItems;\n}\n\n/**\n * Retrieve a fieldtrip by its ID\n * @param {Number} fieldtrip_id The ID of the fieldtrip to get\n * @returns {Fieldtrip} The requested fieldtrip, or null if the ID is invalid\n */\nexport function getFieldtripsByID(fieldtrip_id) {\n    // if anything but the all fieldtrip is selected\n    if (fieldtrip_id !== allFieldtripId) {\n        // check if the fieldtrip ID is valid\n        if (fieldtripsData.hasOwnProperty(fieldtrip_id)) {\n            // retrieve the relevant information\n            // iMPORTANT: use spread syntax so that we don't mutate the original fieldtrip data\n            let fieldtripObject = {...fieldtripsData[fieldtrip_id]};\n            // if people_visited exists in fieldtripObject\n            if (\"people_visited\" in fieldtripObject) {\n                // ensure that people_visited is an array\n                fieldtripObject.people_visited = arrayTransformation(fieldtripObject.people_visited.person);\n            }\n            // if places_visited in fieldtripObject\n            if (\"places_visited\" in fieldtripObject) {\n                // ensure that places_visited is an array\n                fieldtripObject.places_visited = arrayTransformation(fieldtripObject.places_visited.place);\n            }\n            // if stories_collected in fieldtripObject\n            if (\"stories_collected\" in fieldtripObject) {\n                // ensure that stories_collected is an array\n                fieldtripObject.stories_collected = arrayTransformation(fieldtripObject.stories_collected.story);\n            }\n            // return the object\n            return fieldtripObject;\n        } else {\n            // if not, return null and warn of an invalid ID\n            console.warn(`Fieldtrip ID ${fieldtrip_id} is invalid.`);\n            return null;\n        }\n    } else { // else, the all fieldtrip is selected\n        // basic object to store the people, places, stories\n        let allFieldtrip = {\n            \"people_visited\": [],\n            \"places_visited\": [],\n            \"stories_collected\": [],\n        };\n        // loop through all fieldtrips\n        for (let fieldtripIdLoop in fieldtripsData) {\n            // get the fieldtrip\n            let fieldtrip = fieldtripsData[fieldtripIdLoop];\n            // don't use the all fieldtrip\n            if (fieldtripIdLoop !== allFieldtripId.toString()) {\n                // for people, places, associated with each fieldtrip\n                for (let ontology in allFieldtrip) {\n                    // get an array of the current ontology's names already stored\n                    const allFieldtripKeyNames = allFieldtrip[ontology].map(element => element.full_name);\n                    // handling for the weirdly structured data, the key needed to get the relevant array from the fieldtrip\n                    const currentKey = Object.keys(fieldtrip[ontology])[0];\n                    // obtain the array from the fieldtrip\n                    let fieldtripValue = fieldtrip[ontology][currentKey];\n                    // enssure that the data is indeed an array\n                    fieldtripValue = arrayTransformation(fieldtripValue);\n                    // add to our ontology's array the elements from the current fieldtrip's ontology\n                    allFieldtrip[ontology].push(...fieldtripValue.filter(\n                        // but make sure we don't add duplicates\n                        datum => allFieldtripKeyNames.includes(datum.full_name) === false\n                    ));\n                }\n            }\n        }\n        // add in other necessary info for the total fieldtrip\n        allFieldtrip = {\n            ...allFieldtrip,\n            \"end_date\": \"1898-06-08\",\n            \"fieldtrip_id\": allFieldtripId,\n            \"fieldtrip_name\": \"All fieldtrips\",\n            \"shapefile\": \"\",\n            \"start_date\": \"1887-02-03\",\n        };\n        // return our created mash of the fieldtrips\n        return allFieldtrip;\n    }\n}\n\n// sometimes it's used with a parameter...but it has no parameters\n/**\n * Retrieves keywords, combined with stories.\n * @returns {Array} Keywords\n */\nexport function getKeywords() {\n    return keywords.children.concat(ListModel.Stories.children);\n}\n\n/**\n * Retrieve the children of the specified ontology in ListModel\n * @param {*} ontology The property of ListModel to use\n * @returns {Array} The requested ontology's children array\n */\nexport function getList(ontology) {\n    // just get the data from ListModel\n    return ListModel[ontology].children;\n}\n\n/**\n * Retrieve a person by its ID\n * @param {Number} person_id The ID of the person to get\n * @returns {Person} The requested person, or null if the ID is invalid\n */\nexport function getPeopleByID(person_id) {\n    // check if the person ID is valid\n    if (realPeopleData.hasOwnProperty(person_id)) {\n        // an object to store the person;\n        let personObject = realPeopleData[person_id];\n        if (typeof personObject === \"object\") {\n            // if places exists in personObject\n            const DefinedPlaces = \"places\" in personObject,\n                // if stories exists in personObject\n                DefinedStories = \"stories\" in personObject,\n                // if place exists in  places\n                DefinedPlace = \"place\" in personObject.places,\n                // if story defined inside story\n                DefinedStory = \"story\" in personObject.stories;\n            // if places attribute is valid\n            if (DefinedPlaces && DefinedPlace) {\n                // ensure that places is a proper array\n                personObject.places = arrayTransformation(personObject.places.place);\n            }\n            // if stories attribute is valid\n            if (DefinedStories && DefinedStory) {\n                // ensure that stories is a proper array\n                personObject.stories = arrayTransformation(personObject.stories.story);\n            }\n            // return the object\n            return personObject;\n        } else {\n            // if the ID is invalid, warn this and return null\n            console.warn(`Person ID ${person_id} is invalid.`);\n            return null;\n        }\n    } else {\n        // if the ID is invalid, warn this and return null\n        console.warn(`Person ID ${person_id} is invalid.`);\n        return null;\n    }\n}\n\n/**\n * Retrieve a place by its id\n * @param {Number} place_id The ID of the place to get\n * @returns {Place} The requested place, or null if the ID is invalid\n */\nexport function getPlacesByID(place_id) {\n    // if the place ID is valid\n    if (placesData.hasOwnProperty(place_id)) {\n        // retrieve the relevant place\n        let placeObject = placesData[place_id];\n        // if the people attribute is properly defined\n        if (typeof placeObject.people !== \"undefined\" && placeObject.people !== [] && placeObject.people !== null) {\n            // ensure that the placeData's people is an array, and set the object's people to it\n            placeObject.people = arrayTransformation(placesData[place_id].people);\n        } else {\n            // delete people if it's not defined\n            delete placeObject.people;\n        }\n        // if place is a collected story here place\n        if (place_id in storiesCollectedData) {\n            // ensure that storiesCollected is an array\n            placeObject.storiesCollected = arrayTransformation(storiesCollectedData[place_id].stories.story);\n        }\n        // if place is mentioned\n        if (place_id in placesMentionedData) {\n            // ensure that storiesMentioned is an array\n            placeObject.storiesMentioned = arrayTransformation(placesMentionedData[place_id].stories.story);\n        }\n        return placeObject;\n    } else {\n        // if the place ID is invalid, warn this and return null\n        console.warn(`Place ID ${place_id} is invalid.`);\n        return null;\n    }\n}\n\n/**\n * Retrieve a story by its ID\n * @param {Number} story_id The ID of the story to get\n * @returns {Story} The requested story, or null if the ID is invalid\n */\nexport function getStoryByID(story_id) {\n    // if the story ID is valid\n    if (formattedStoryData.hasOwnProperty(story_id)) {\n        // just get it from the relevant array\n        return formattedStoryData[story_id];\n    } else {\n        // if the story ID is invalid, warn this and return null\n        console.warn(`Story ID ${story_id} is invalid.`);\n        return null;\n    }\n}\n","/*\n* Session Storage Functions with type + data checking\n* */\n\n/**\n* Sets Session Storage Data - Performs typecheck of data stored in Session Storage before setting it in sessionStorage\n* @param {String} name Name of the item to be stored\n* @param {Object} object Object to be stored\n* */\nexport function setSessionStorage(name, object) {\n    // make sure the name is a string\n    if (typeof name !== \"string\") {\n        throw new Error(\"Name is not a String!\");\n    }\n    // make sure that we are setting an object\n    if (!(object instanceof Object)) {\n        throw new Error(\"Object is not an Object!\");\n    }\n    sessionStorage.setItem(name, JSON.stringify(object));\n}\n\n/**\n * Gets Session Storage Data - Performs typecheck of data retrieved, returns false if data is null or not an object\n * @param {String} ItemName Name of the item to be retrieved\n * @returns {Object} null if invalid session retrieval, or the SessionItem found in sessionStorage\n* */\nexport function getSessionStorage(ItemName) {\n    // get the relevant item from session storage\n    const SessionItem = JSON.parse(sessionStorage.getItem(ItemName));\n    // return null if it isn't an object\n    if (!(SessionItem instanceof Object)) {\n        return null;\n    } else {\n        // success! return the retrieved item\n        return SessionItem;\n    }\n}\n","// functions to get people, places, stories\nimport * as model from \"../../data-stores/DisplayArtifactModel\";\n// function to ensure an input is an array\nimport {arrayTransformation} from \"../../utils\";\n// functions to get and set sesion storage\nimport {getSessionStorage, setSessionStorage} from \"../../data-stores/SessionStorageModel\";\n\n// colors of the nodes on the graph\nconst nodeColors = {\n    \"People\": \"blue\",\n    \"Places\": \"red\",\n    \"Stories\": \"grey\",\n    \"Fieldtrips\": \"green\",\n    \"default\": \"black\",\n};\n\n// colors of primary + secondary links\nconst linkColors = {\n    \"primary\": \"lightblue\",\n    \"secondary\": \"lightgreen\",\n};\n\n/**\n * Get the common elements of two arrays\n * @param {Array} array1 An array to check for common elements with\n * @param {Array} array2 Another array to check for common elements with\n * @returns {Array} An array contianing the elements present in both arrays\n */\nexport function commonElements(array1, array2) {\n    // return array1, filtered for only elements that are also in array2\n    return array1.filter((element) => array2.includes(element));\n}\n\n/**\n * Get all IDs of a specified node type\n * @param {Array} nodeCategories An array containing all the nodes\n * @param {String} type Type of node to get\n * @returns {Array} An array containing the relevant nodes' IDs\n */\nfunction nodesToIDArray(nodeCategories, type) {\n    // for each node of the specified type, extract its ID\n    return nodeCategories[type].map(node => node.itemID);\n}\n\n/**\n * Retrieve the graph data from storage\n * @returns {Object} Nodes and links found in storage\n */\nexport function initializeGraph() {\n    // get data from sessionStorage\n    const graphData = getSessionStorage(\"graphData\");\n    // if we couldn't load any data default to this\n    if (!graphData) {\n        return {\n            // nodes needs a minimum of 1 object\n            \"nodes\": [{\"id\": \"blank\"}],\n            // links is empty since no data\n            \"links\": [],\n        };\n    } else {\n        // get the nodes and links from loaded data\n        return graphData;\n    }\n}\n\n/**\n * Retrieve all nodes of the graph from storage\n * @returns {Object} An object containing the relevant nodes, categorized by type\n */\nexport function initializeNodeCategories() {\n    // get the saved data from sessionStorage\n    const nodeCategories = getSessionStorage(\"nodeCategories\");\n    // if we were unable to get anything from sessionStorage\n    if (!nodeCategories) {\n        // set the arrays to be empty\n        return {\n            \"Fieldtrips\": [],\n            \"People\": [],\n            \"Places\": [],\n            \"Stories\": [],\n        };\n    } else {\n        return nodeCategories;\n    }\n}\n\n/**\n * Get primarily associated data\n * @param {Number} itemID The numeric ID referring to the node\n * @param {String} type The type of the node\n * @returns {Object} An object with \"Fieldtrips\", \"People\", \"Places\", \"Stories\" attributes containing any primarily related data\n */\nfunction getPrimaryAssociates(itemID, type) {\n    // object to store the associated data.\n    let primaryAssociates = {\n        \"Fieldtrips\": [],\n        \"People\": [],\n        \"Places\": [],\n        \"Stories\": [],\n    };\n    // based on the type of the node\n    switch (type) {\n        case \"Stories\": {\n            // get the story\n            const story = model.getStoryByID(itemID);\n            // if it's an actual story\n            if (story !== null) {\n                // get the informant's ID, fieldtrip, places relevant to this story\n                const {fieldtrip, informant_id, places} = model.getStoryByID(itemID);\n                // set the associated person to be the author.\n                primaryAssociates.People = arrayTransformation(informant_id);\n                // extract relevant places, ensure that it is an array, and get their IDs\n                primaryAssociates.Places = arrayTransformation(places.place).map(place => place.place_id);\n                // get the fieldtrip associated with the story, array-ified\n                primaryAssociates.Fieldtrips = arrayTransformation(fieldtrip.id);\n            } else {\n                // return null since the story wasn't defined\n                return null;\n            }\n            break;\n        }\n        case \"People\": {\n            // get the person\n            const person = model.getPeopleByID(itemID);\n            // if it's an actual person\n            if (person !== null) {\n                // get the person's relevant places and stories\n                const {places, stories} = person;\n                // extract relevant places, ensure that it is an array, and get their IDs\n                primaryAssociates.Places = arrayTransformation(places).map(place => place.place_id);\n                // extract stories, ensure that it is an array, and get their IDs\n                primaryAssociates.Stories = arrayTransformation(stories).map(story => story.story_id);\n            } else {\n                // return null since the person wasn't defined\n                return null;\n            }\n            break;\n        }\n        case \"Places\": {\n            // get the place\n            const place = model.getPlacesByID(itemID);\n            // if it's an actual place\n            if (place !== null) {\n                // get the place's relevant people and stories\n                const {fieldtrips, people, storiesCollected, storiesMentioned} = place;\n                // oh dear god please fix the data so i dont have to do this weird stuff\n                // basically here's how the data currently looks:\n                // [\n                //     person: {\n                //         personObject\n                //     }\n                // ]\n                // so we need to extract person, then extract attributes from the object inside it\n                // get the relevant people, ensure that it is an array, and get their IDs\n                primaryAssociates.People = arrayTransformation(people).map(person => person.person.person_id);\n                // extract stories collected here, ensure that it is an array, get their IDs\n                // repeat for stories mentioning this\n                // combine the two arrays\n                primaryAssociates.Stories = [\n                    ...arrayTransformation(storiesCollected).map(story => story.story_id),\n                    ...arrayTransformation(storiesMentioned).map(story => story.story_id),\n                ];\n                // get the fieldtrips associated with the place, array-ified\n                if (fieldtrips !== null) {\n                    primaryAssociates.Fieldtrips = arrayTransformation(fieldtrips.fieldtrip_id);\n                }\n            } else {\n                // return null since the place wasn't defined\n                return null;\n            }\n            break;\n        }\n        case \"Fieldtrips\": {\n            // get the fieldtrip\n            const fieldtrip = model.getFieldtripsByID(itemID);\n            // if it's an actual fieldtrip\n            if (fieldtrip !== null) {\n                // get the people and places visited as well as the collected stories\n                const {people_visited, places_visited, stories_collected} = fieldtrip;\n                // get the people visited, ensure that it is an array, and get their IDs\n                primaryAssociates.People = arrayTransformation(people_visited).map(person => person.person_id);\n                // get places visited, ensure that it is an array, and get their IDs\n                primaryAssociates.Places = arrayTransformation(places_visited).map(place => place.place_id);\n                // get collected stories, ensure that it is an array, and get their IDs\n                primaryAssociates.Stories = arrayTransformation(stories_collected).map(story => story.story_id);\n            } else {\n                // return null since the fieldtrip wasn't defined\n                return null;\n            }\n            break;\n        }\n        default:\n            // unhandled node type, log that out and stop\n            console.warn(`Linkages not yet implemented for node type: ${type}`);\n            return;\n    }\n    return primaryAssociates;\n}\n\n/**\n * Retrieve a node by its name\n * @param {String} name The display name of the node\n * @param {Object} nodeCategories The nodes to search through (should be all nodes on the graph)\n * @returns {Node} A node that matches the specified name, or null if no match was found\n */\nexport function getNodeById(name, nodeCategories) {\n    // for each of the categories of nodes (people, places, fieldtrips, stories)\n    for (let nodeType in nodeCategories) {\n        // attempt to find a node whose name matches the passed name\n        let node = nodeCategories[nodeType].find(nodeToTest => nodeToTest.id === name);\n        // if we actually found such a node\n        if (typeof node !== \"undefined\") {\n            // return that node\n            return node;\n        }\n    }\n    // if we couldn't find a match, return null\n    return null;\n}\n\n/**\n * Create linkages for a node\n * @param {Node} node The node to create linkages for\n * @param {Array} nodeCategories An array of nodes to use to find linkages\n * @returns {Array} An array containing the formed linkages\n */\nexport function createLinkage({id, itemID, type}, nodeCategories) {\n    // array to contain links\n    let links = [];\n    // get primary associates for the node\n    const primaryAssociates = getPrimaryAssociates(itemID, type);\n    // get the nodes already on the graph\n    const pastNodes = {\n        \"Fieldtrips\": nodesToIDArray(nodeCategories, \"Fieldtrips\"),\n        \"People\": nodesToIDArray(nodeCategories, \"People\"),\n        \"Places\": nodesToIDArray(nodeCategories, \"Places\"),\n        \"Stories\": nodesToIDArray(nodeCategories, \"Stories\"),\n    };\n    // for fieldtrips, people, places, stories\n    for (let nodeType in pastNodes) {\n        // add to links a series of links, not an array of links\n        links.push(\n            // get any primarily related nodes that are already on the the graph\n            ...commonElements(primaryAssociates[nodeType], (pastNodes[nodeType]))\n                // for all the matches, use their numeric ID\n                .map(function(matchID) {\n                    // create a link\n                    return {\n                        // from the current node\n                        \"source\": id,\n                        // to the node specified by matchID\n                        \"target\": nodeCategories[nodeType].find(node => node.itemID === matchID).id,\n                        // no intermediate node connecting the two\n                        \"linkNode\": null,\n                        // set its color to primary link color\n                        \"color\": linkColors.primary,\n                    };\n                })\n        );\n    }\n    // for fieldtrips, people, places, stories\n    for (let nodeType in primaryAssociates) {\n        // for the array of associated nodes by ontology, retrieve their IDs\n        primaryAssociates[nodeType].forEach(function(linkID) {\n            // variable to store the name of the linking node\n            let object;\n            // based on the type of node, get the object associated with the current ID\n            switch (nodeType) {\n                case \"Fieldtrips\":\n                    object = model.getFieldtripsByID(linkID);\n                    break;\n                case \"People\":\n                    object = model.getPeopleByID(linkID);\n                    break;\n                case \"Places\":\n                    object = model.getPlacesByID(linkID);\n                    break;\n                case \"Stories\":\n                    object = model.getStoryByID(linkID);\n                    break;\n                default:\n                    // new node type we haven't prepared for yet, warn this and stop\n                    console.warn(`Unhandled node type ${nodeType}`);\n                    return;\n            }\n            // assuming that the ID is valid\n            if (object !== null) {\n                // get the name of the object\n                const name = object[model.ontologyToDisplayKey[nodeType]];\n                // get any potential secondary associates\n                const secondaryAssociates = getPrimaryAssociates(linkID, nodeType);\n                // for fieldtrips, people, places, stories\n                for (let nodeType in pastNodes) {\n                    // if any secondary associated nodes that are already on the graph\n                    commonElements(secondaryAssociates[nodeType], pastNodes[nodeType])\n                        // convert each of the numeric IDs to the node's name\n                        .map(matchID => nodeCategories[nodeType].find(node => node.itemID === matchID).id)\n                        // filter out links that point right back to the current node\n                        .filter(matchID => matchID !== id)\n                        // and, for each of the remaining secondarily associated nodes' links\n                        .forEach(function(matchID) {\n                            // if the link doesn't already exist in some sort of way\n                            if (links.findIndex(\n                                // the link currently being checked\n                                testLink => (\n                                    // if that link stems from the current node\n                                    (testLink.source === id &&\n                                        // and points to the secondary node\n                                        testLink.target === matchID) ||\n                                    // or, if that link starts at the secondary node\n                                    (testLink.source === matchID &&\n                                        // and points to the current node\n                                        testLink.target === id)\n                                    // whenever this condition is -1, the connection between the two doesn't exist yet, so add the link\n                                )) === -1) {\n                                // add a link\n                                links.push({\n                                    // from the current node\n                                    \"source\": id,\n                                    // to the secondarily-linked node\n                                    \"target\": matchID,\n                                    // via the intermediate primary linked node\n                                    \"linkNode\": name,\n                                    // set its color to secondary link color\n                                    \"color\": linkColors.secondary,\n                                });\n                            }\n                        });\n                }\n            }\n        });\n    }\n    // return our composite of primary and secondary links\n    return links;\n}\n\n/**\n * Creates a node object from the given inputs\n * @param {*} id The ID of the new node\n * @param {*} name The name of the new node\n * @param {String} type The type of the new node\n * @param {*} item The item associated with the node\n * @returns {Node} The node corresponding to the given input\n */\nexport function createNode(id, name, type, item) {\n    // color of the final node\n    let color = \"\";\n    // if the type has a corresponding color, in nodeColors\n    if (nodeColors.hasOwnProperty(type)) {\n        // set the color to that of nodeColors\n        color = nodeColors[type];\n    } else {\n        // use the default if we couldn't find the type in nodeColors\n        color = nodeColors.default;\n    }\n    // assemble the node\n    return {\n        // id of the node\n        \"id\": name,\n        // color of the node on the graph\n        color,\n        // item associated with the node\n        item,\n        // type of the node\n        type,\n        // id referring to item\n        \"itemID\": id,\n    };\n}\n\n/**\n * Adds a node to the graph\n * @param {*} id The ID of the node\n * @param {*} name The name of the node\n * @param {string} type The type of the node\n * @param {*} item The item associated with the node\n */\nexport function addNode(id, name, type, item) {\n    // create the node object\n    const newNode = createNode(id, name, type, item);\n    // get graph info from localstorage\n    let graphData = initializeGraph();\n    let nodeCategories = initializeNodeCategories();\n    // check if the blank node still is present\n    if (graphData.nodes[0].id === \"blank\") {\n        // remove the blank node\n        graphData.nodes.splice(0, 1);\n    }\n    // if newNode doesn't already exist\n    if (!graphData.nodes.includes(newNode)) {\n        // add it to the nodes of graphData\n        graphData.nodes.push(newNode);\n        // add it to the relevant array in nodeCategories and update sessionStorage\n        nodeCategories[type].push(newNode);\n        setSessionStorage(\"nodeCategories\", nodeCategories);\n        // add any links for this node\n        graphData.links.push(...createLinkage(newNode, nodeCategories));\n        // because people don't have a \"fieldtrip\" attribute\n        if (type === \"People\") {\n            // when a person is added, go through each of the preexisting fieldtrip nodes\n            nodeCategories.Fieldtrips.forEach(function(fieldtrip) {\n                // get any links they may have with the person\n                graphData.links.push(...createLinkage(fieldtrip, nodeCategories));\n            });\n        }\n        // filter out graph links\n        graphData.links = graphData.links\n            .filter((link, index) =>\n                // if the current link to check doesn't already exist in some sort of way\n                graphData.links.findIndex(\n                    // the link to test against\n                    testLink => (\n                        // if both share a soucre\n                        (testLink.source === link.source &&\n                            // and a target (dupes)\n                            testLink.target === link.target) ||\n                        // or, if that link ends where this one starts\n                        (testLink.source === link.source &&\n                            // and that starts where this ends (dupes, but in reverse direction)\n                            testLink.target === link.target)\n                        // this should be the first of that sort of link in order to keep it\n                    )) === index\n            );\n        // update the general graph data in session\n        setSessionStorage(\"graphData\", graphData);\n    }\n}\n","// react functionality\nimport React from \"react\";\n// prop validation\nimport PropTypes from \"prop-types\";\n// styling for the map\nimport \"./MapView.css\";\n// map functionality\nimport {\n    LayersControl,\n    Map,\n    Marker,\n    Popup,\n    TileLayer,\n    WMSTileLayer,\n} from \"react-leaflet\"\nimport {latLngBounds} from 'leaflet'\n\n// constants + defaults for our map\nconst {BaseLayer} = LayersControl,\n    DEFAULT_MAP_CENTER = [56.2639, 9.5018],\n    DEFAULT_ZOOM_LEVEL = 7;\n\nclass MapView extends React.Component {\n    constructor(props) {\n        super(props);\n        // start off with defaults\n        this.tiles = [{\n            \"name\": \"Default OpenStreet Map\",\n            \"type\": \"TILE\",\n            \"url\": \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n            \"attribution\": \"&amp;copy <a href=\\\"http://osm.org/copyright\\\">OpenStreetMap</a> contributors\",\n            \"checked\": false,\n        }, {\n            \"name\": \"High Boards\",\n            \"type\": \"WMS\",\n            \"layers\": \"dtk_hoeje_maalebordsblade\",\n            \"url\": \"http://kortforsyningen.kms.dk/service?servicename=topo20_hoeje_maalebordsblade&client=arcGIS&request=GetCapabilities&service=WMS&version=1.1.1&login=tango1963&password=heimskr1;\",\n            \"format\": \"image/png\",\n            \"checked\": false,\n        }, {\n            \"name\": \"Low Boards\",\n            \"type\": \"WMS\",\n            \"layers\": \"dtk_lave_maalebordsblade\",\n            \"url\": \"http://kortforsyningen.kms.dk/service?servicename=topo20_lave_maalebordsblade&client=arcGIS&request=GetCapabilities&service=WMS&version=1.1.1&login=tango1963&password=heimskr1;\",\n            \"format\": \"image/png\",\n            \"checked\": true,\n        }];\n    }\n\n    componentDidMount(){\n        // console.log(this.refs.map.leafletElement.getBounds);\n    }\n\n    /**\n     * Filters out invalid places from props\n     * @returns {Array<Places>} Only the valid places from props\n     */\n    prunePlaces() {\n        // for each of prop's places\n        return this.props.places.filter((place) =>\n            // make sure it isn't undefined\n            typeof place !== \"undefined\" &&\n            // or null\n            place !== null &&\n            // and it should have a latitude\n            place.hasOwnProperty(\"latitude\") &&\n            // and longitude\n            place.hasOwnProperty(\"longitude\"));\n    }\n\n    /**\n     * Defines the center coordinates of the map\n     * @returns {Array<Number>} 2 element array for the coordinates of the center\n     */\n    defineMapCenter() {\n        // get filtered places\n        const places = this.prunePlaces();\n        if(this.props.view === \"Fieldtrip\"){\n            //find longitude average\n            var AvgLongitude;\n            var TotalLongitude = 0;\n            places.forEach((place)=>{\n                TotalLongitude += place.longitude;\n            });\n            AvgLongitude = TotalLongitude/places.length;\n            const MedianPlaceIndex = places.length/2 | 0;\n            const MedianPlace = places[MedianPlaceIndex];\n            return [MedianPlace.latitude, AvgLongitude];\n        }\n        // if places is of an adequate size\n        else if (places.length > 0 && places.length < 20) {\n            // get the first place\n            const initialPlace = places[0];\n            // use that as the map center\n            return [initialPlace.latitude, initialPlace.longitude];\n        } else {\n            // bad places, use the default\n            return DEFAULT_MAP_CENTER;\n        }\n    }\n\n    /**\n     * Defines the zoom of the map\n     * @returns {Number} THe zoom of the map\n     */\n    defineMapZoom() {\n        // get filtered places\n        const places = this.prunePlaces();\n        if(this.props.view === \"Fieldtrip\"){\n            return 9;\n        }\n        // if places is of an adequate size\n        else if (places.length > 0 && places.length < 20) {\n            // use 14 at the zoom (any reason why 14?)\n            return 14;\n        } else {\n            // bad places, use the default\n            return DEFAULT_ZOOM_LEVEL;\n        }\n    }\n\n    renderTiles() {\n        return this.tiles.map((tile, i) => {\n            switch (tile.type) {\n                case \"TILE\":\n                    return (\n                        <BaseLayer checked={tile.checked} name={tile.name} key={i}>\n                            <TileLayer\n                                attribution={tile.attribution}\n                                url={tile.url}\n                                checked={tile.checked}\n                            />\n                        </BaseLayer>\n                    );\n                case \"WMS\":\n                    return (\n                        <BaseLayer checked={tile.checked} name={tile.name} key={i}>\n                            <WMSTileLayer\n                                layers={tile.layers}\n                                format={tile.format}\n                                url={tile.url}\n                            />\n                        </BaseLayer>\n                    );\n                default:\n                    return (\n                        <BaseLayer checked={tile.checked} name={tile.name}>\n                            <TileLayer\n                                attribution={tile.attribution}\n                                url={tile.url}\n                            />\n                        </BaseLayer>\n                    );\n            }\n        });\n    }\n\n    /**\n     * Generate the popups for the map\n     * @returns {Array<Marker>} Markers + popups\n     */\n    renderMarkers() {\n        // get filtered places\n        return this.prunePlaces()\n            // for each of the places\n            .map((place, i) => (\n                // create a marker and popup\n                <Marker position={[place.latitude, place.longitude]}\n                    key={i}>\n                    <Popup>\n                        {MapView.renderPopup(place)}\n                    </Popup>\n                </Marker>\n            ));\n    }\n\n    /**\n     * Render text for a place's popup\n     * @param {Object} place The place to render the pop up for\n     * @returns {String} The text for the popup\n     */\n    static renderPopup(place) {\n        if(place.hasOwnProperty(\"display_name\")){\n            return place.display_name;\n        }\n        // if it has a full_name property\n        else if (place.hasOwnProperty(\"full_name\")) {\n            // use that for the text\n            return place.full_name;\n            // or if it has a name property\n        } else if (place.hasOwnProperty(\"name\")) {\n            // use that instead\n            return place.name;\n        } else {\n            // bad place, warn this\n            console.warn(\"Place does not have full_name or name\", place);\n            // don't return anything\n            return null;\n        }\n    }\n\n    render() {\n        return (\n            <Map ref=\"map\"\n                 center={this.defineMapCenter.bind(this)()}\n                zoom={this.defineMapZoom.bind(this)()}\n                 boundsOptions={{\n                     paddingBottomRight: [250, 0],\n                     paddingTopLeft:[250,0],\n                 }}\n            >\n                <LayersControl position=\"topright\">\n                    {this.renderTiles.bind(this)()}\n                    {this.renderMarkers.bind(this)()}\n                </LayersControl>\n            </Map>\n        );\n    }\n}\n\n// need places for the map to work\nMapView.propTypes = {\n    \"places\": PropTypes.array.isRequired,\n};\n\nexport default MapView;\n","import React, {Component} from \"react\";\nimport PropTypes from \"prop-types\";\n\nclass Navigation extends Component {\n    handleDropdownChange({target}) {\n        let selectedItem;\n        if (this.props.list.tango) {\n            selectedItem = this.props.list.list.find((item) =>\n                item === target.value);\n        } else {\n            selectedItem = this.props.list.list.find((item) =>\n                item[this.props.list.displayKey] === target.value);\n        }\n        this.props.handleMenuSelect(selectedItem, this.props.list.tango);\n    }\n\n    optionsRender() {\n        if (this.props.list.tango) {\n            return this.props.list.list.map((item, i) => (\n                <option\n                    key={i}\n                    value={item}>\n                    {item}\n                </option>\n            ));\n        } else {\n            return this.props.list.list.map((item, i) => (\n                <option\n                    key={i}\n                    value={item[this.props.list.displayKey]}>\n                    {item[this.props.list.displayKey]}\n                </option>\n            ));\n        }\n    }\n\n    render() {\n        return (\n            <form className=\"NavigationDropdownMenu\">\n                <select\n                    value={this.props.list.selectValue}\n                    onChange={this.handleDropdownChange.bind(this)}>\n                    {this.optionsRender()}\n                </select>\n            </form>\n        );\n    }\n}\n\nNavigation.propTypes = {\n    \"handleMenuSelect\": PropTypes.func.isRequired,\n    \"list\": PropTypes.shape({\n        \"displayKey\": PropTypes.any,\n        \"list\": PropTypes.any,\n        \"selectValue\": PropTypes.any,\n        \"tango\": PropTypes.any,\n    }).isRequired,\n};\n\nexport default Navigation;\n","export const ADD_TAB = \"ADD_TAB\",\n    CLOSE_TAB = \"CLOSE_TAB\",\n    DISPLAY_ITEMS = \"DISPLAY_ITEMS\",\n    FUZZY_SEARCH = \"FUZZY_SEARCH\",\n    INITIALIZE_TABS = \"INITIALIZE_TABS\",\n    MOVE_TAB = \"MOVE_TAB\",\n    SEARCH_ARTIFACT = \"SEARCH_ARTIFACT\",\n    SEARCH_KEYWORD = \"SEARCH_KEYWORRD\",\n    SET_SEARCH_STATE = \"SET_SEARCH_STATE\",\n    SWITCH_TABS = \"SWITCH_TABS\",\n    TIME_FILTER_HANDLER = \"TIME_FILTER_HANDLER\",\n    UPDATE_ITEMS = \"UPDATE_ITEMS\",\n    UPDATE_TAB = \"UPDATE_TAB\";\n","// get possible action types\nimport * as types from \"./actionTypes\";\n\n/**\n * Update the items available to Navigator\n * @param {Array} list Items to give to navigator\n */\nexport function displayItems(list) {\n    return {\n        \"payload\": list,\n        \"type\": types.DISPLAY_ITEMS,\n    };\n}\n\n/**\n * Handler for a time filter's change\n * @param {Event} event Event describing the change\n */\nexport function timeFilterHandler({target}) {\n    return {\n        \"payload\": target,\n        \"type\": types.TIME_FILTER_HANDLER,\n    };\n}\n","import * as types from \"./actionTypes\";\n\n/**\n * Trigger fuzzy search to render suggestions and update search input field. If there's currently results in the area, search among results there\n * @param {String} SearchInput\n * @param {array} DisplayList\n * */\nexport function fuzzySearch(SearchInput, DisplayList) {\n    return {\n        \"type\": types.FUZZY_SEARCH,\n        \"payload\": {SearchInput, DisplayList},\n    };\n}\n\n/**\n * Trigger search for a display artifact (people, places, stories, fieldtrips)\n * @param {integer} DisplayArtifact\n * */\nexport function searchArtifact(DisplayArtifact) {\n    return {\n        \"type\": types.SEARCH_ARTIFACT,\n        \"payload\": DisplayArtifact,\n    };\n}\n\n/**\n * Trigger search for keyword either as a string or as an object\n * @param {String, Object} Keyword\n * */\nexport function searchKeyword(Keyword) {\n    return {\n        \"type\": types.SEARCH_KEYWORD,\n        \"payload\": Keyword,\n    };\n}\n\n/**\n * Set the state of searching\n * @param {Boolean} newState Whether or not to be in a state of searching\n */\nexport function setSearch(newState) {\n    return {\n        \"type\": types.SET_SEARCH_STATE,\n        \"payload\": newState,\n    };\n}\n","import React, {Component} from \"react\";\nimport \"./navigatorComponent.css\";\nimport NavigationDropdownMenu from \"./NavigationDropdownMenu\";\nimport {arrayTransformation} from \"../../utils\";\nimport {getList, ontologyToDisplayKey, tangoTypes} from \"../../data-stores/DisplayArtifactModel\";\nimport PropTypes from \"prop-types\";\nimport {getSessionStorage, setSessionStorage} from \"../../data-stores/SessionStorageModel\";\nimport * as navigatorActions from \"../../actions/navigatorActions\";\nimport * as searchActions from \"../../actions/searchActions\";\nimport {bindActionCreators} from \"redux\";\nimport connect from \"react-redux/es/connect/connect\";\n\nclass Navigation extends Component {\n    constructor(props) {\n        super(props);\n        // options for the two dropdowns\n        this.dataNav = [\"People\", \"Places\", \"Stories\"];\n        this.TINav = [\"ETK Index\", \"Tangherlini Index\", \"Fieldtrips\", \"Genres\"];\n        // initial state, further defined later\n        this.state = {\n            // which of the subclasses is currently active\n            \"activeList\": null,\n            // whether the data navigator or TI navigator is shown\n            \"dataNavView\": true,\n            // submenus to show (for TI navigator)\n            \"dropdownLists\": [],\n            // navigators to render\n            \"navigators\": [\n                {\"name\": \"Data Navigator\", \"tabClass\": \"dataNavView\"},\n                {\"name\": \"Topic & Index Navigator\", \"tabClass\": \"TINavView\"},\n            ],\n        };\n        // get previous view data from session storage, default to stories\n        const {data} = getSessionStorage(\"SelectedNavOntology\") || {\"data\": \"Stories\"};\n        // if user was viewing the topic & index navigator\n        if (this.TINav.includes(data)) {\n            // set up state for that\n            this.state = {\n                ...this.state,\n                \"dataNavView\": false,\n                \"navigators\": [\n                    {\"name\": \"Data Navigator\", \"tabClass\": \"dataNavView\"},\n                    {\"name\": \"Topic & Index Navigator\", \"tabClass\": \"TINavView active\"},\n                ],\n                \"path\": [\"Topic & Index Navigator\"],\n            };\n        } else {\n            // otherwise default to the PPS state\n            this.state = {\n                ...this.state,\n                \"dataNavView\": true,\n                \"navigators\": [\n                    {\"name\": \"Data Navigator\", \"tabClass\": \"dataNavView active\"},\n                    {\"name\": \"Topic & Index Navigator\", \"tabClass\": \"TINavView\"},\n                ],\n                \"path\": [\"Data Navigator\"],\n            };\n        }\n    }\n\n    // determine if we need to set up to show a keyword\n    componentDidMount() {\n        // get previous view data from session storage, default to stories\n        const {data} = getSessionStorage(\"SelectedNavOntology\") || {\"data\": \"Stories\"};\n        // no keyword loaded\n        if (this.props.searchState.inputValue === \"\") {\n            // go to the loaded ontology from session storage\n            this.handleLevelTwoClick(data);\n        } else {\n            // keyword loaded, we'll be looking at the stories\n            this.props.setDisplayLabel(\"Data Navigator > Stories\");\n            this.setState({\n                // highlight stories\n                \"activeList\": \"Stories\",\n                // no dropdowns to show\n                \"dropdownLists\": [],\n                // set the path\n                \"path\": [\"Data Navigator\", \"Stories\"],\n            });\n        }\n    }\n\n    /**\n     * Make a certain tab the active tab\n     * @param {String} name Tab to make active\n     */\n    setActiveTab(name) {\n        // reset search\n        this.props.actions.setSearch(false);\n        // resets displayed results\n        this.props.actions.displayItems([]);\n        // if data navigator was clicked\n        if (name === \"Data Navigator\") {\n            // set the indicator to show this\n            this.props.setDisplayLabel(\"Data Navigator\");\n            this.setState({\n                // make data navigator active\n                \"dataNavView\": true,\n                // erase any existing dropdown lists\n                \"dropdownLists\": [],\n                // make data navigator active\n                \"navigators\": [\n                    {\"name\": \"Data Navigator\", \"tabClass\": \"tab cell medium-6 dataNavView active\"},\n                    {\"name\": \"Topic & Index Navigator\", \"tabClass\": \"tab cell medium-6 TINavView\"},\n                ],\n                // set data navigator as the path\n                \"path\": [\"Data Navigator\"],\n            });\n        } else if (name === \"Topic & Index Navigator\") {\n            // topic & index navigator clicked\n            // set the indicator to show this\n            this.props.setDisplayLabel(\"Topic & Index Navigator\");\n            this.setState({\n                // make topic & index navigator active\n                \"dataNavView\": false,\n                // erase any existing dropdown lists\n                \"dropdownLists\": [],\n                // make topic & index navigator active\n                \"navigators\": [\n                    {\"name\": \"Data Navigator\", \"tabClass\": \"tab cell medium-6 dataNavView \"},\n                    {\"name\": \"Topic & Index Navigator\", \"tabClass\": \"tab cell medium-6 TINavView active\"},\n                ],\n                // set topic & index navigator as the path\n                \"path\": [\"Topic & Index Navigator\"],\n            });\n        } else {\n            // bad tab name, warn this\n            console.warn(\"Invalid tab name\", name);\n        }\n    }\n\n    /**\n     * Switch to a selected ontology\n     * @param {String} ontology Ontology to switch to\n     */\n    handleLevelTwoClick(ontology) {\n        // reset search\n        this.props.actions.setSearch(false);\n        // save selected ontology to session storage so the selection will remain if the user switches tabs\n        setSessionStorage(\"SelectedNavOntology\", {\n            \"data\": ontology,\n        });\n        // get items associated with the ontology\n        let list = getList(ontology);\n        // if it is person, place, story, or fieldtrip\n        if ([\"Fieldtrips\", \"People\", \"Places\", \"Stories\"].includes(ontology)) {\n            // display the relevant items\n            this.props.actions.displayItems(list);\n            // highlight clicked ontology, set dropdownLists to nothing, update path\n            this.setStateAndPathLabel(({path}) => ({\n                \"activeList\": ontology,\n                \"dropdownLists\": [],\n                \"path\": [path[0], ontology],\n            }));\n        } else if ([\"ETK Index\", \"Tangherlini Index\", \"Genres\"].includes(ontology)) {\n            // was one of the other ones that isn't a single category of data\n            // reset results display\n            this.props.actions.displayItems([]);\n            // create additional options for people to be in the dropdown menu so people can select everything in the menu\n            const displayKey = ontologyToDisplayKey[ontology];\n            let\n                // object to represent the dropdown\n                listObject = {\n                    displayKey,\n                    ontology,\n                },\n                // initial dropdown value\n                selectValue;\n            // for ETK indices\n            if (ontology === \"ETK Index\") {\n                // use the ontology itself as the name\n                selectValue = \"[Select ETK Index]\";\n            } else {\n                // other type, format it to work out\n                selectValue = `[Select ${ontology.slice(0, -1)}]`;\n            }\n            // update the dropdown with the initial vluae\n            listObject = {\n                ...listObject,\n                selectValue,\n            };\n            // if we are going to the tango indices\n            if (ontology === \"Tangherlini Index\") {\n                listObject = {\n                    ...listObject,\n                    // set the options to be the tango types, but add in the Select option\n                    \"list\": [\n                        \"[Select a Class]\",\n                        ...Object.keys(tangoTypes),\n                    ],\n                    // this is a tango list\n                    \"tango\": true,\n                };\n            } else if (ontology === \"ETK Index\" || ontology === \"Genres\") {\n                // either ETK index or gernes\n                // if the [Select a ___] isn't in the dropdown list\n                if (list.some((item) => item[displayKey] === selectValue) === false) {\n                    // add it in at the front\n                    list = [\n                        {\n                            [displayKey]: selectValue,\n                        },\n                        ...list,\n                    ];\n                }\n                listObject = {\n                    ...listObject,\n                    // use our generated list for options\n                    list,\n                    // this is not a tango list\n                    \"tango\": false,\n                };\n            } else {\n                // bad ontology, abort\n                console.warn(\"Bad ontology\", ontology);\n                return;\n            }\n            // update state and path label\n            this.setStateAndPathLabel(({path}) => ({\n                // highlight clicked ontology\n                \"activeList\": ontology,\n                // use our generated dropdown object\n                \"dropdownLists\": [listObject],\n                // update the path with the clicked one\n                \"path\": [path[0], ontology],\n            }));\n        }\n    }\n\n    /**\n     * Handle the selection of a dropdown item\n     * @param {Object} selectedItem Selected dropdown element\n     * @param {Boolean} isTango Whether or not the item is an upper-level Tango dropdown\n     */\n    selectMenu(selectedItem, isTango) {\n        // reset search\n        this.props.actions.setSearch(false);\n        // for non upper level tango index dropdowns\n        if (isTango === false) {\n            // make sure that we didn't re-select the [Select a ___] option from the dropdown\n            if (typeof selectedItem.id !== \"undefined\") {\n                // update the displayed items\n                this.props.actions.displayItems(\n                    // use the list of stories based on the chosen option\n                    arrayTransformation(selectedItem.stories.story)\n                );\n                // get the display name based on the chosen option\n                let name;\n                if (selectedItem.hasOwnProperty(\"name\")) {\n                    name = selectedItem.name;\n                } else if (selectedItem.hasOwnProperty(\"heading_english\")) {\n                    name = selectedItem.heading_english;\n                }\n                // update state and path\n                this.setStateAndPathLabel((oldState) => {\n                    // get previous dropdowns and path\n                    let {dropdownLists, path} = oldState;\n                    // update the selected item\n                    dropdownLists[dropdownLists.length - 1].selectValue = selectedItem.name;\n                    // trim the path if necessary\n                    if (path.length >= 3 && path.includes(\"Tangherlini Index\") === false) {\n                        path = path.slice(0, 2);\n                    } else if (path.length >= 4) {\n                        path = path.slice(0, 3);\n                    }\n                    // append the selected item to the path\n                    path = [...path, name];\n                    return {\n                        dropdownLists,\n                        path,\n                    };\n                });\n            } else {\n                // clear all items\n                this.props.actions.displayItems([]);\n                // update dropdowns and path\n                this.setStateAndPathLabel(({dropdownLists, path}) => ({\n                    // set the dropdown to be\n                    \"dropdownLists\": [\n                        {\n                            // the first dropdown\n                            ...dropdownLists[0],\n                            // but make sure that the selected value is the [Select a ___] option\n                            \"selectValue\": selectedItem.heading_english,\n                        },\n                    ],\n                    // remove the last element from path, since it got deselected\n                    \"path\": path.slice(0, -1),\n                }));\n            }\n        } else {\n            // top level tango index option picked\n            // set base path accordingly\n            const path = [\"Topic & Index Navigator\", \"Tangherlini Index\"];\n            if (selectedItem !== \"[Select a Class]\") {\n                // not the null option\n                // clear the displayed items\n                this.props.actions.displayItems([]);\n                this.setStateAndPathLabel(({dropdownLists}) => ({\n                    \"dropdownLists\": [\n                        {\n                            ...dropdownLists[0],\n                            // set clicked item in the upper dropdown to the one that was just clicked\n                            \"selectValue\": selectedItem,\n                        },\n                        // need to make second dropdown list with the sub tango options\n                        {\n                            // start with the select something option\n                            \"selectValue\": \"[Select an Ontology]\",\n                            // key for names is \"name\"\n                            \"displayKey\": \"name\",\n                            \"ontology\": \"\",\n                            // not an upper level tango dropdown\n                            \"tango\": false,\n                            \"list\": [\n                                // add the select something option on top\n                                {\"name\": \"[Select an Ontology]\"},\n                                // add the actual options below it\n                                ...tangoTypes[selectedItem].children,\n                            ],\n                        },\n                    ],\n                    // add the item we went to at the end of the path\n                    \"path\": [...path, selectedItem],\n                }));\n            } else {\n                // reset the dropdown state to the unselected tango index state, since that's what was clikced\n                this.setStateAndPathLabel(({dropdownLists}) => ({\n                    // set the dropdown to be\n                    \"dropdownLists\": [{\n                        // the first dropdown\n                        ...dropdownLists[0],\n                        // but make sure that the selected value is the [Select a Class] option\n                        \"selectValue\": \"[Select a Class]\",\n                    }],\n                    // go back to the base tango path\n                    path,\n                }));\n            }\n        }\n    }\n\n    /**\n     * Set state and update the displayed path label\n     * @param {(Function|Object)} callback Determines state to be set\n     */\n    setStateAndPathLabel(callback) {\n        // apply the requested state changes\n        this.setState(callback, () => {\n            // update the path displayed afterwards\n            this.props.setDisplayLabel(this.state.path.join(\" > \"));\n        });\n    }\n\n    render() {\n        // determine what is being viewed based on state\n        const ontologyType = this.state.dataNavView === true ? \"dataNav\" : \"TINav\";\n        return (\n            // container for the whole component\n            <div className=\"NavigatorComponent grid-y\">\n                {/* make the top tabs smaller */}\n                <div className=\"navigator-tabs cell medium-1 grid-x\">{\n                    // for each of the two naviagtor tabs\n                    this.state.navigators.map(({name, tabClass}) => (\n                        // create a clickable div\n                        <div\n                            // style it as a navigator tab with its custom CSS\n                            className={`tab cell medium-6 ${tabClass}`}\n                            // key for React\n                            key={name}\n                            // when clicked, go to its respective tab\n                            onClick={this.setActiveTab.bind(this, name)}>\n                            {/* use the name as the label */}\n                            {name}\n                        </div>\n                    ))\n                }</div>\n                {/* actual ontology selection options */}\n                <div className=\"navigator-options-wrapper cell medium-11\">\n                    {/* based on what is viewed show the specified ontology */}\n                    <div className={`cell active ${ontologyType}View`}>\n                        {/* create the list of ontologies to choose */}\n                        <ul className=\"ontologyList\">{\n                            // for each of the ontologies to display\n                            this[ontologyType].map((ontology) => (\n                                <li\n                                    // style it based on the ontology type, and make the active one shaded\n                                    className={`ontology ${ontology} ${this.state.activeList === ontology ? \"active\" : \"\"}`}\n                                    // key for React\n                                    key={ontology}\n                                    // when clicked, go to the desired ontology\n                                    onClick={this.handleLevelTwoClick.bind(this, ontology)}>\n                                    {/* name to show is the ontology */}\n                                    {ontology}\n                                </li>\n                            ))\n                        }</ul>\n                    </div>\n                    {/* for each of the dropdowns, if needed */}\n                    {this.state.dropdownLists.map((list, i) => (\n                        // generate a dropdown with the options\n                        <NavigationDropdownMenu\n                            // style it to fit with Foundation's styling\n                            className=\"cell\"\n                            // pass it the desired options\n                            list={list}\n                            // pass it a click handler\n                            handleMenuSelect={this.selectMenu.bind(this)}\n                            // key for React\n                            key={i} />\n                    ))}\n                </div>\n            </div>\n        );\n    }\n}\n\n/**\n * Set certain props to access Redux states\n * @param {Object} state All possible Redux states\n * @returns {Object} Certain states that are set on props\n */\nfunction mapStateToProps(state) {\n    return {\n        \"searchState\": state.search,\n        \"state\": state.tabViewer,\n    };\n}\n\n/**\n * Set the \"actions\" prop to access Redux actions\n * @param {*} dispatch Redux actions\n * @returns {Object} The actions that are mapped to props.actions\n */\nfunction mapDispatchToProps(dispatch) {\n    return {\n        \"actions\": {\n            ...bindActionCreators(searchActions, dispatch),\n            ...bindActionCreators(navigatorActions, dispatch),\n        },\n    };\n}\n\nNavigation.propTypes = {\n    \"actions\": PropTypes.object.isRequired,\n    \"searchState\": PropTypes.shape({\n        \"inputValue\": PropTypes.string.isRequired,\n        \"results\": PropTypes.array.isRequired,\n    }).isRequired,\n    \"setDisplayLabel\": PropTypes.func.isRequired,\n    \"state\": PropTypes.object.isRequired,\n};\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Navigation);\n","import * as types from \"./actionTypes\";\n\n/**\n * Add a tab to the view\n * @param {Number} DisplayArtifactID ID referring to the item to display\n * @param {String} name Display name of the tab\n * @param {String} type Type of the display\n */\nexport function addTab(DisplayArtifactID, name, type) {\n    return {\n        \"type\": types.ADD_TAB,\n        \"payload\": {DisplayArtifactID, name, type},\n    };\n}\n\n/**\n * Close a tab\n * @param {Number} TabKey Index of the tab to close\n */\nexport function closeTab(TabKey) {\n    return {\n        \"type\": types.CLOSE_TAB,\n        \"payload\": TabKey,\n    };\n}\n\n/**\n * Switch to the specified tab\n * @param {Number} TabKey Index of the tab to switch to\n */\nexport function switchTabs(TabKey) {\n    return {\n        \"type\": types.SWITCH_TABS,\n        \"payload\": TabKey,\n    };\n}\n\n/**\n * Move a tab to a new index\n * @param {Number} OldTabIndex The tab to move\n * @param {Number} NewTabIndex The spot to move the tab to\n */\nexport function moveTab(OldTabIndex, NewTabIndex) {\n    return {\n        \"type\": types.MOVE_TAB,\n        \"payload\": {OldTabIndex, NewTabIndex},\n    };\n}\n\n/**\n * Update some of a tab's properties\n * @param {Number} TabIndex The tab to update\n * @param {*} updates The properties of the tab to update with their desired values\n */\nexport function updateTab(TabIndex, updates) {\n    return {\n        \"type\": types.UPDATE_TAB,\n        \"payload\": {TabIndex, updates},\n    };\n}\n","// styling for the graph\nimport \"./NexusGraph.css\";\n// basic react functionality\nimport React, {Component} from \"react\";\n// graph functionality for the NexusGraph\nimport {Graph} from \"react-d3-graph\";\n// prop validation\nimport PropTypes from \"prop-types\";\n// function to get a node on the graoh by its name\nimport {getNodeById} from \"./NexusGraphModel\";\nimport {bindActionCreators} from \"redux\";\nimport * as tabViewerActions from \"../../actions/tabViewerActions\";\nimport connect from \"react-redux/es/connect/connect\";\n\n// basic settings for the graph, can be overriden with this.props\nconst settings = {\n    // highlight nodes + links when hovered\n    \"nodeHighlightBehavior\": true,\n    // enable pan and zoom effects\n    \"panAndZoom\": true,\n    // settings for the nodes\n    \"node\": {\n        // this color only applies to the initial \"blank\" node, other nodes get custom colors by their type\n        \"color\": \"lightgreen\",\n        // size of the node\n        \"size\": 120,\n        // outline color of the node when it is highlighted (either on hover or via a hovered-on primary connected node)\n        \"highlightStrokeColor\": \"blue\",\n    },\n    // settings for the links\n    \"link\": {\n        // link color when one of its endpoints is highlighted\n        \"highlightColor\": \"blue\",\n    },\n};\n\nclass NexusGraph extends Component {\n    constructor(props) {\n        super(props);\n        // no clicks handled yet\n        this.lastNodeClicked = null;\n        this.lastNodeClickTime = 0;\n        // properly bind handleClickNode so it works on the nodes in the graph\n        this.handleClickNode = this.handleClickNode.bind(this);\n    }\n\n    // called whenever a node is clicked\n    handleClickNode(nodeName) {\n        // condition to treat it as a double click, if last click was within 1 second\n        if (Date.now() - this.lastNodeClickTime < 1000 &&\n            // and the same node was clicked both times,\n            nodeName === this.lastNodeClicked) {\n            // get the node matching the given name\n            let node = getNodeById(nodeName, this.props.nodes);\n            // assuming we properly retrieved the node\n            if (node !== null) {\n                // open up its tab\n                this.props.tabViewerActions.addTab(node.itemID, nodeName, node.type);\n            }\n        } else {\n            // too long between clicks/different node clicked, it should be a single click\n            // set last click to be now\n            this.lastNodeClickTime = Date.now();\n            // the clicked node is now the one that was last clicked\n            this.lastNodeClicked = nodeName;\n        }\n    }\n\n    render() {\n        return (\n            <Graph\n                // id is mandatory, if no id is defined rd3g will throw an error\n                id=\"graph-id\"\n                // nodes + links to draw\n                data={this.props.data}\n                // settings for the graph\n                config={{\n                    // give it the base settings\n                    ...settings,\n                    // but override those with any passed settings\n                    ...this.props.settings,\n                }}\n                // call the custom callback when a node is clicked\n                onClickNode={this.handleClickNode.bind(this)}\n            />\n        );\n    }\n}\n\nNexusGraph.propTypes = {\n    \"links\": PropTypes.arrayOf(PropTypes.shape({\n        \"source\": PropTypes.string.isRequired,\n        \"target\": PropTypes.string.isRequired,\n        \"linkNode\": PropTypes.any,\n        \"color\": PropTypes.string,\n    })),\n    \"nodes\": PropTypes.object.isRequired,\n    \"data\": PropTypes.object.isRequired,\n    \"settings\": PropTypes.object,\n    \"tabViewerActions\": PropTypes.object.isRequired,\n};\n\nNexusGraph.defaultProps = {\n    \"nodes\": [{\"id\": \"blank\"}],\n};\n\nfunction mapStateToProps(state) {\n    return {\n        \"state\": state.tabViewer,\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        \"tabViewerActions\": bindActionCreators(tabViewerActions, dispatch),\n    };\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(NexusGraph);\n","import React, {Component} from \"react\";\nimport {getKeywords, DisplayArtifactToDisplayKey} from \"../../data-stores/DisplayArtifactModel\";\nimport \"./search.css\";\nimport PropTypes from \"prop-types\";\nimport {bindActionCreators} from \"redux\";\nimport * as navigatorActions from \"../../actions/navigatorActions\";\nimport * as searchActions from \"../../actions/searchActions\";\nimport connect from \"react-redux/es/connect/connect\";\n\nclass SearchComponent extends Component {\n    constructor(props) {\n        super(props);\n        // currently unused, getKeywords() is an unused import if we don't need this\n        this.state = {\n            \"inputValue\": \"\",\n            \"keywords\": getKeywords(),\n        };\n        this.renderListofSuggestions = this.renderListofSuggestions.bind(this);\n        this.switchKeywordSearch = this.switchKeywordSearch.bind(this);\n    }\n\n    renderListofSuggestions() {\n        return this.props.searchState.results.map((keyword, i) => (\n            <li\n                key={i}\n                style={{\"cursor\": \"pointer\"}}\n                onClick={(event) => {\n                    event.preventDefault();\n                    this.props.actions.searchArtifact(keyword);\n                }}>\n                {keyword[DisplayArtifactToDisplayKey(keyword)]}\n            </li>\n        ));\n    }\n\n    switchKeywordSearch(event) {\n        this.props.actions.displayItems([]);\n        this.setState({\n            \"keywordSearch\": event.target.checked,\n            \"inputValue\": \"\",\n        });\n    }\n\n    render() {\n        return (\n            <form\n                className=\"SearchComponent\"\n                onSubmit={(event) => {\n                    event.preventDefault();\n                    this.props.actions.searchArtifact(this.props.searchState.inputValue);\n                }}>\n                <input\n                    type=\"text\"\n                    placeholder=\"Search Term\"\n                    value={this.props.searchState.inputValue}\n                    onChange={(event) => {\n                        event.preventDefault();\n                        this.props.actions.fuzzySearch(\n                            event.target.value,\n                            this.props.navigatorState.itemsList\n                        );\n                    }} />\n                <label className=\"keyword-search-label\" htmlFor=\"keyword-search-switch\">Keyword Search Only</label>\n                <input\n                    type=\"checkbox\"\n                    name=\"keyword\"\n                    id=\"keyword-search-switch\"\n                    onChange={this.switchKeywordSearch} />\n                {/* only show suggestions while a search is active */}\n                {this.props.searchState.searchingState === true &&\n                    <ul className=\"suggestions\">\n                        {this.renderListofSuggestions()}\n                    </ul>}\n            </form>\n        );\n    }\n}\n\nSearchComponent.propTypes = {\n    \"actions\": PropTypes.object.isRequired,\n    \"navigatorState\": PropTypes.shape({\n        \"displayList\": PropTypes.array,\n        \"fromDate\": PropTypes.number,\n        \"itemsList\": PropTypes.array.isRequired,\n        \"placeList\": PropTypes.array,\n        \"timeFilterOn\": PropTypes.bool,\n        \"toDate\": PropTypes.number,\n    }).isRequired,\n    \"searchState\": PropTypes.shape({\n        \"inputValue\": PropTypes.string.isRequired,\n        \"keywordSearch\": PropTypes.bool,\n        \"ontology\": PropTypes.string,\n        \"results\": PropTypes.array.isRequired,\n        \"searchingState\": PropTypes.bool.isRequired,\n    }).isRequired,\n};\n\n/**\n * Set certain props to access Redux states\n * @param {Object} state All possible Redux states\n * @returns {Object} Certain states that are set on props\n */\nfunction mapStateToProps(state) {\n    return {\n        \"navigatorState\": state.navigator,\n        \"searchState\": state.search,\n    };\n}\n\n/**\n * Set the \"actions\" prop to access Redux actions\n * @param {*} dispatch Redux actions\n * @returns {Object} The actions that are mapped to props.actions\n */\nfunction mapDispatchToProps(dispatch) {\n    return {\n        \"actions\": {\n            ...bindActionCreators(searchActions, dispatch),\n            ...bindActionCreators(navigatorActions, dispatch),\n        },\n    };\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(SearchComponent);\n","// CSS styling\nimport \"./navigation.css\";\n// data helpers\nimport {\n    DisplayArtifactToOntology,\n    ontologyToDisplayKey,\n    ontologyToID,\n} from \"../../data-stores/DisplayArtifactModel\";\n// functions to get nodes + links\nimport {\n    addNode,\n    initializeGraph,\n    initializeNodeCategories,\n} from \"../NexusGraph/NexusGraphModel\";\n// subcomponents of the navigator\nimport MapView from \"../MapView/MapView\";\nimport NavigatorComponent from \"./NavigatorComponent\";\nimport NexusGraph from \"../NexusGraph/NexusGraph\";\nimport SearchComponent from \"./SearchComponent\";\n// react functionality\nimport React from \"react\";\n// prop validation\nimport PropTypes from \"prop-types\";\n// redux imports\nimport {bindActionCreators} from \"redux\";\nimport * as navigatorActions from \"../../actions/navigatorActions\";\nimport * as tabViewerActions from \"../../actions/tabViewerActions\";\nimport connect from \"react-redux/es/connect/connect\";\n\nclass Navigation extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            // start at the data navigator\n            \"displayLabel\": \"Data Navigator\",\n            // start with the sliders hidden\n            \"fromSelect\": false,\n            \"toSelect\": false,\n        };\n        // ref to the map for updating\n        this.map = React.createRef();\n        // bind functions so that they can be used as callbacks\n        this.timeInputClickHandler = this.timeInputClickHandler.bind(this);\n        this.timeInputEnd = this.timeInputEnd.bind(this);\n    }\n\n    /**\n     * Display a list of items\n     * @param {Array} list Items to display\n     * @returns {Array} Array of formatted JSX elements\n     */\n    displayList(list) {\n        // return a list of the elements\n        return list.map((item) => {\n            // ontology of the current item\n            const displayOntology = DisplayArtifactToOntology(item),\n                // display name of the artifact\n                displayName = item[ontologyToDisplayKey[displayOntology]],\n                // id of the artifact\n                id = item[ontologyToID[displayOntology]];\n            // image shown next to the name of the display artifact\n            let image = null;\n            switch (displayOntology) {\n                case \"Stories\":\n                    // for stories, get the chat bubble icon\n                    image = (<img\n                        className=\"convo-icon\"\n                        src={require(\"./icons8-chat-filled-32.png\")}\n                        alt=\"story\" />);\n                    break;\n                case \"People\":\n                    // for people, get the generic portrait icon\n                    image = (<img\n                        className=\"person-icon\"\n                        src={require(\"./icons8-contacts-32.png\")}\n                        alt=\"person\" />);\n                    break;\n                case \"Places\":\n                    // for places, get the pin marker icon\n                    image = (<img\n                        className=\"location-icon\"\n                        src={require(\"./icons8-marker-32.png\")}\n                        alt=\"location\" />);\n                    break;\n                case \"Fieldtrips\":\n                    // for fieldtrips, get the map with an x icon\n                    image = <img\n                        className=\"fieldtrip-icon\"\n                        src={require(\"./icons8-waypoint-map-32.png\")}\n                        alt=\"fieldtrip\" />;\n                    break;\n                default:\n                    // bad ontology, warn this\n                    console.warn(`Unhandled ontology type: ${displayOntology}`);\n                    // don't render an element for it\n                    return null;\n            }\n            // return a list element\n            return (<li\n                // key for React\n                key={displayOntology + id}\n                // on click, do all the processing necessary when loading this item\n                onClick={() => {\n                    this.handleIDQuery(id, displayName, displayOntology, item);\n                }}>\n                {/* put our desired image on the left of the item */}\n                {image}\n                {/* put the item's name right after that */}\n                {displayName}\n            </li>);\n        });\n    }\n\n    /**\n     * Handler for when an artifact wants to be retrieved\n     * @param {*} id ID of the artifact\n     * @param {*} name Display name of the artifact\n     * @param {*} type Ontology of the artifact\n     * @param {*} item The artifact\n     */\n    handleIDQuery(id, name, type, item) {\n        // add node to network graph\n        addNode(id, name, type, item);\n        // open up the artifact's tab\n        this.props.actions.addTab(id, name, type);\n    }\n\n    /**\n     * Enable a specified input\n     * @param {Event} event Event containing the toggled input's name\n     */\n    timeInputClickHandler({\"target\": {name}}) {\n        this.setState({\n            [name === \"toYear\" ? \"toSelect\" : \"fromSelect\"]: true,\n        });\n    }\n\n    /**\n     * Disable a specified input\n     * @param {Event} event Event containing the toggled input's name\n     */\n    timeInputEnd({\"target\": {name}}) {\n        this.setState({\n            [name === \"toYear\" ? \"toSelect\" : \"fromSelect\"]: false,\n        });\n    }\n\n    /**\n     * Set the banner indicating the current path\n     * @param {String} label The current path to display\n     */\n    setDisplayLabel(label) {\n        this.setState({\n            \"displayLabel\": label,\n        });\n    }\n\n    render() {\n        // get relevant stuff from redux + props (object destructuring)\n        const {\n            \"actions\": {addTab, timeFilterHandler},\n            \"navigatorState\": {displayList, fromDate, placeList, timeFilterOn, toDate},\n            \"searchState\": {searchingState},\n        } = this.props;\n        // variable to store the main, center display\n        let toDisplay;\n        // based on what is currently being viewed\n        switch (this.state.displayLabel) {\n            // if the user is viewing the ETK Index but hasn't selected anything yet\n            case \"Topic & Index Navigator > ETK Index\":\n                // render a hint to select an ETK index\n                toDisplay = (<div className=\"hintText\">\n                    Select an ETK index from the left to get started!\n                </div>);\n                break;\n            // if the user is viewing the Tango Index but hasn't selected anything yet\n            case \"Topic & Index Navigator > Tangherlini Index\":\n                // render a hint to select a tango index\n                toDisplay = (<div className=\"hintText\">\n                    Select a class from the left to get started!\n                </div>);\n                break;\n            // if the user is viewing the genres but hasn't selected anything yet\n            case \"Topic & Index Navigator > Genres\":\n                // render a hint to select a genre\n                toDisplay = (<div className=\"hintText\">\n                    Select a genre from the left to get started!\n                </div>);\n                break;\n            // for anything else\n            default:\n                // just render what is normally wanted\n                toDisplay = this.displayList(displayList);\n                break;\n        }\n        return (\n            <div className=\"Navigation grid-x grid-padding-x\">\n                <div className=\"medium-3 cell dataNavigation\">\n                    <SearchComponent />\n                    <NavigatorComponent setDisplayLabel={this.setDisplayLabel.bind(this)} />\n                </div>\n                <div className=\"medium-5 cell AssociatedStoriesViewer grid-y fillScreen\">\n                    <form className=\"cell medium-2 small-1 time-filter grid-x\">\n                        <div className=\"medium-2 small-2 small-offset-0 medium-offset-0 large-offset-1 cell switch\">\n                            <input\n                                className=\"switch-input\"\n                                id=\"exampleSwitch\"\n                                type=\"checkbox\"\n                                checked={timeFilterOn}\n                                name=\"timelineFilter\"\n                                onChange={timeFilterHandler} />\n                            <label className=\"switch-paddle\" htmlFor=\"exampleSwitch\">\n                                <br />\n                                <span id=\"timelineText\">Timeline</span>\n                                <span className=\"show-for-sr\">Enable Timeline</span>\n                            </label>\n                        </div>\n                        <b className=\"medium-2 medium-offset-1 large-2 large-offset-0 cell text top-padding\">From:</b>\n                        <div className=\"medium-2 large-2 cell top-padding\">\n                            <input\n                                className=\"year\"\n                                type=\"number\"\n                                name=\"fromYear\"\n                                min={1887}\n                                max={toDate}\n                                value={fromDate}\n                                onChange={timeFilterHandler}\n                                onClick={this.timeInputClickHandler} />\n                            {this.state.fromSelect === true &&\n                                <input\n                                    className=\"slider\"\n                                    name=\"fromYear\"\n                                    type=\"range\"\n                                    min=\"1887\"\n                                    max={toDate}\n                                    value={fromDate}\n                                    onChange={timeFilterHandler}\n                                    onMouseUp={this.timeInputEnd} />}\n                        </div>\n                        <b className=\"medium-1 large-1 cell text top-padding\">To</b>\n                        <div className=\"medium-2 large-2 cell top-padding\">\n                            <input\n                                className=\"year\"\n                                type=\"number\"\n                                name=\"toYear\"\n                                min={fromDate}\n                                max={1899}\n                                value={toDate}\n                                onChange={timeFilterHandler}\n                                onClick={this.timeInputClickHandler} />\n                            {this.state.toSelect === true &&\n                                <input\n                                    className=\"slider\"\n                                    type=\"range\"\n                                    name=\"toYear\"\n                                    min={fromDate}\n                                    max=\"1899\"\n                                    value={toDate}\n                                    onChange={timeFilterHandler}\n                                    onMouseUp={this.timeInputEnd} />}\n                        </div>\n                    </form>\n                    <ul className=\"book medium-cell-block-y cell medium-10\">\n                        {/* little banner at the top of the list of items */}\n                        <h6 className=\"label secondary\">\n                            {/* if searching, tell the viewer that a search is in progress */}\n                            {searchingState === true &&\n                                <span className=\"SearchTitle\">Searching: </span>}\n                            {/* display the label indicating the currently viewed path */}\n                            {this.state.displayLabel}\n                        </h6>\n                        {/* display the elements we assigned at the beginning of this function */}\n                        {toDisplay}\n                    </ul>\n                </div>\n                <div className=\"medium-4 cell grid-y fillScreen\">\n                    <div className=\"medium-6 cell\">\n                        {/* button that creates + opens the graph tab when clicked */}\n                        <button\n                            // blue button styling\n                            className=\"button primary\"\n                            // just space it out properly in the CSS\n                            id=\"expandGraphButton\"\n                            // when clicked, open the graph in its own tab\n                            onClick={() => {\n                                addTab(0, \"Nexus Graph\", \"Graph\");\n                            }}>\n                            Open Graph in New Tab\n                        </button>\n                        {/* the nexus graph */}\n                        <NexusGraph\n                            // nodes + links for the graph to render\n                            data={initializeGraph()}\n                            // a totality of all the nodes, sorted by type\n                            nodes={initializeNodeCategories()}\n                            // custom settings for the graph\n                            settings={{\n                                // set the height to center the graph\n                                \"height\": window.innerHeight * 0.8 * 0.5,\n                                // set the width to center the graph\n                                \"width\": window.innerWidth * 0.8 * 0.389,\n                            }} />\n                    </div>\n                    <MapView className=\"medium-6 cell\"\n                        ref={(ref) => {\n                            this.map = ref;\n                        }}\n                        places={placeList} />\n                </div>\n            </div>\n        );\n    }\n}\n\nNavigation.propTypes = {\n    \"actions\": PropTypes.object.isRequired,\n    \"navigatorState\": PropTypes.object.isRequired,\n    \"searchState\": PropTypes.object.isRequired,\n};\n\n/**\n * Set certain props to access Redux states\n * @param {Object} state All possible Redux states\n * @returns {Object} Certain states that are set on props\n */\nfunction mapStateToProps(state) {\n    return {\n        \"navigatorState\": state.navigator,\n        \"searchState\": state.search,\n    };\n}\n\n/**\n * Set the \"actions\" prop to access Redux actions\n * @param {*} dispatch Redux actions\n * @returns {Object} The actions that are mapped to props.actions\n */\nfunction mapDispatchToProps(dispatch) {\n    return {\n        \"actions\": bindActionCreators({\n            ...navigatorActions,\n            ...tabViewerActions,\n        }, dispatch),\n    };\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Navigation);\n","import React, {Component} from \"react\";\nimport {addNode} from \"../NexusGraph/NexusGraphModel\";\nimport Modal from \"react-modal\";\nimport SlidingPane from \"react-sliding-pane\";\nimport \"react-sliding-pane/dist/react-sliding-pane.css\";\nimport \"./RightBar.css\";\nimport PropTypes from \"prop-types\";\nimport {arrayTransformation} from \"../../utils.js\";\nimport {bindActionCreators} from \"redux\";\nimport * as tabViewerActions from \"../../actions/tabViewerActions\";\nimport connect from \"react-redux/es/connect/connect\";\n\nclass RightBar extends Component {\n    constructor() {\n        super();\n        // initial state\n        this.state = {\n            // starts out closed\n            \"isPaneOpen\": false,\n            // nothing should be initially active\n            \"active\": null,\n        };\n        this.clickHandler = this.clickHandler.bind(this);\n    }\n\n    componentDidMount() {\n        Modal.setAppElement(this.el);\n    }\n\n    clickHandler(id, name, type, item) {\n        addNode(id, name, type, item);\n        this.props.tabViewerActions.addTab(id, name, type);\n    }\n\n    /**\n     * Go to a specified tab of the right bar\n     * @param {String} section Tab to open to\n     */\n    PPSClickHandler(section) {\n        this.setState({\n            // make sure the panel is open\n            \"isPaneOpen\": true,\n            // update the selected tab\n            \"active\": section,\n        });\n    }\n\n    /**\n     * Renders the left buttons that control which part of the bar to see\n     * @returns {JSX} The rendered controls\n     */\n    renderControls() {\n        // what is currently being viewed\n        const {view} = this.props;\n        // tells whether or not a certain tab type is active\n        const {active} = this.state;\n        // depending on what the type of view this is\n        switch (view) {\n            // if the current view is a place, then create tabs for people, stories that mentioned it, and stories collected\n            case \"Places\":\n                // first <div> is the people tab\n                // second <div> is the stories that mention it tab\n                // third <div> is the stories collected tab\n                return (<div style={{\"marginTop\": \"150%\", \"marginBottom\": \"20%\"}}>\n                    <div className={`medium-2 cell ${active === \"people\" ? \"active\" : \"\"} bio`}\n                        onClick={(e) => {\n                            e.preventDefault();\n                            this.PPSClickHandler.bind(this)(\"people\");\n                        }}>\n                        <img src=\"https://png.icons8.com/windows/32/ffffff/contacts.png\"\n                            className=\"icon\"\n                            alt=\"person\" />\n                        <br />\n                        <div className=\"icon-label\">People</div>\n                    </div>\n                    <div className={`medium-2 cell ${active === \"stories_mentioned\" ? \"active\" : \"\"} stories-mentioned`}\n                        onClick={(e) => {\n                            e.preventDefault();\n                            this.PPSClickHandler.bind(this)(\"stories_mentioned\");\n                        }}>\n                        <img src=\"https://png.icons8.com/metro/32/ffffff/chat.png\"\n                            className=\"icon\"\n                            alt=\"stories\" />\n                        <br />\n                        <div className=\"icon-label\">Stories That Mention</div>\n                    </div>\n                    <div className={`medium-2 cell ${active === \"stories\" ? \"active\" : \"\"} stories`}\n                        onClick={(e) => {\n                            e.preventDefault();\n                            this.PPSClickHandler.bind(this)(\"stories\");\n                        }}>\n                        <img src=\"https://png.icons8.com/metro/32/ffffff/chat.png\"\n                            className=\"icon\"\n                            alt=\"stories\" />\n                        <br />\n                        <div className=\"icon-label\">Stories Collected</div>\n                    </div>\n                </div>);\n            case \"Stories\": {\n                // if the current view is a story, then create tabs for author, places, and stories\n                const {informant_first_name, informant_last_name} = this.props.object;\n                // first <div> is the author tab\n                // second <div> is the places tab\n                // third <div> is the stories tab\n                return (<div style={{\"marginTop\": \"150%\", \"marginBottom\": \"20%\"}}>\n                    <div className={`medium-2 cell ${active === \"people\" ? \"active\" : \"\"} bio`}\n                        onClick={(e) => {\n                            e.preventDefault();\n                            this.PPSClickHandler.bind(this)(\"bio\");\n                        }}>\n                        <img src=\"https://png.icons8.com/windows/32/ffffff/contacts.png\"\n                            className=\"icon\"\n                            alt=\"person\" />\n                        <br />\n                        <div className=\"icon-label\">{informant_first_name} {informant_last_name}</div>\n                    </div>\n                    <div className={`medium-2 cell ${active === \"places\" ? \"active\" : \"\"} places`}\n                        onClick={(e) => {\n                            e.preventDefault();\n                            this.PPSClickHandler.bind(this)(\"places\");\n                        }}>\n                        <img src=\"https://png.icons8.com/windows/32/ffffff/marker.png\"\n                            className=\"icon\"\n                            alt=\"location\" />\n                        <br />\n                        <div className=\"icon-label\">Places</div>\n                    </div>\n                    <div className={`medium-2 cell ${active === \"stories\" ? \"active\" : \"\"} stories`}\n                        onClick={(e) => {\n                            e.preventDefault();\n                            this.PPSClickHandler.bind(this)(\"stories\");\n                        }}>\n                        <img src=\"https://png.icons8.com/metro/32/ffffff/chat.png\"\n                            className=\"icon\"\n                            alt=\"stories\" />\n                        <br />\n                        <div className=\"icon-label\">Stories</div>\n                    </div>\n                </div>);\n            }\n            case \"People\":\n                // if the current view is a person, then create tabs for places and stories\n                // first <div> is the places tab\n                // second <div> is the stories tab\n                return (<div style={{\"marginTop\": \"150%\", \"marginBottom\": \"20%\"}}>\n                    <div className={`medium-2 cell ${active === \"places\" ? \"active\" : \"\"} places`}\n                        onClick={(e) => {\n                            e.preventDefault();\n                            this.PPSClickHandler.bind(this)(\"places\");\n                        }}>\n                        <img src=\"https://png.icons8.com/windows/32/ffffff/marker.png\"\n                            className=\"icon\"\n                            alt=\"location\" />\n                        <br />\n                        <div className=\"icon-label\">Places</div>\n                    </div>\n                    <div className={`medium-2 cell ${active === \"stories\" ? \"active\" : \"\"} stories`}\n                        onClick={(e) => {\n                            e.preventDefault();\n                            this.PPSClickHandler.bind(this)(\"stories\");\n                        }}>\n                        <img src=\"https://png.icons8.com/metro/32/ffffff/chat.png\"\n                            className=\"icon\"\n                            alt=\"stories\" />\n                        <br />\n                        <div className=\"icon-label\">Stories</div>\n                    </div>\n                </div>);\n            case \"Fieldtrips\":\n                // if the current view is a fieldtrip, then create tabs for people visited, places visited, and stories collected\n                // first <div> is the people visited tab\n                // second <div> is the places visited tab\n                // third <div> is the stories collected tab\n                return (<div style={{\"marginTop\": \"150%\", \"marginBottom\": \"20%\"}}>\n                    <div className={`medium-2 cell ${active === \"people\" ? \"active\" : \"\"} bio`}\n                        onClick={(e) => {\n                            e.preventDefault();\n                            this.PPSClickHandler.bind(this)(\"people\");\n                        }}>\n                        <img src=\"https://png.icons8.com/windows/32/ffffff/contacts.png\"\n                            className=\"icon\"\n                            alt=\"person\" />\n                        <br />\n                        <div className=\"icon-label\">People</div>\n                    </div>\n                    <div className={`medium-2 cell ${active === \"places\" ? \"active\" : \"\"} places`}\n                        onClick={(e) => {\n                            e.preventDefault();\n                            this.PPSClickHandler.bind(this)(\"places\");\n                        }}>\n                        <img src=\"https://png.icons8.com/windows/32/ffffff/marker.png\"\n                            className=\"icon\"\n                            alt=\"location\" />\n                        <br />\n                        <div className=\"icon-label\">Places</div>\n                    </div>\n                    <div className={`medium-2 cell ${active === \"stories\" ? \"active\" : \"\"} stories`}\n                        onClick={(e) => {\n                            e.preventDefault();\n                            this.PPSClickHandler.bind(this)(\"stories\");\n                        }}>\n                        <img src=\"https://png.icons8.com/metro/32/ffffff/chat.png\"\n                            className=\"icon\"\n                            alt=\"stories\" />\n                        <br />\n                        <div className=\"icon-label\">Stories</div>\n                    </div>\n                </div>);\n            case 0:\n                return null;\n            default:\n                console.warn(`Unhandled view type: ${view}`);\n        }\n    }\n\n    renderContent() {\n        switch (this.state.active) {\n            case \"bio\":\n                return this.renderBiography();\n            case \"places\":\n                return this.renderPlaces();\n            case \"stories\":\n                return this.renderStories(false);\n            case \"people\":\n                return this.renderPeople();\n            case \"stories_mentioned\":\n                return this.renderStories(true);\n            case null:\n                return null;\n            default:\n                console.warn(`Unhandled active tab: ${this.state.active}`);\n        }\n    }\n\n    renderPeople() {\n        let {people} = this.props;\n        if (people.length === 0) {\n            return <div className=\"cell medium-10 large-9 list-content\">\n                <div className=\"callout alert\">\n                    <h6>There are no associated people.</h6>\n                </div>\n            </div>;\n        } else {\n            return <div className=\"cell medium-10 large-9 list-content\">\n                <ul>\n                    {people.map((person, i) => {\n                        const {full_name, person_id} = person;\n                        return <li key={i} onClick={(event) => {\n                            event.preventDefault();\n                            this.clickHandler(person_id, full_name, \"People\", person);\n                        }}>\n                            <img className=\"icon-item\" src={require(\"../Navigation/icons8-contacts-32.png\")} alt=\"person\" />\n                            {full_name}\n                        </li>;\n                    })}\n                </ul>\n            </div>;\n        }\n    }\n\n    renderPlaces() {\n        let {places, view} = this.props;\n        // array-ify the places\n        places = arrayTransformation(places)\n            // and filter out any improper places\n            .filter((place) => place.place_id !== \"N/A\");\n        // if there are no associated places, leave a special message\n        if (places.length === 0 || typeof places[0] !== \"object\") {\n            return (\n                <div className=\"cell medium-10 large-9 list-content\">\n                    <div className=\"callout alert\">\n                        <h6>There are no associated places.</h6>\n                    </div>\n                </div>\n            );\n        } else {\n            // spit out a list of the places\n            return (\n                <div className=\"cell medium-10 large-9 list-content\">\n                    <ul>\n                        {/* for each of the places */}\n                        {places.map((place, i) => {\n                            // get its name + ID\n                            const {name, place_id} = place;\n                            return <li\n                                // key for React re-rendering\n                                key={i}\n                                // when clicked\n                                onClick={() => {\n                                    // open the relevant place and add it to the nexus graph\n                                    this.clickHandler(place_id, name, \"Places\", place);\n                                }}>\n                                <img\n                                    className=\"icon-item\"\n                                    src={require(\"../Navigation/icons8-marker-32.png\")}\n                                    alt=\"location\" />\n                                {/* fieldtrip places use full_name on their places, all others use display_name */}\n                                {view === \"Fieldtrips\" ? place.full_name : place.display_name}\n                            </li>;\n                        })}\n                    </ul>\n                </div>\n            );\n        }\n    }\n\n    /**\n     * Render any associated stories into a list\n     * @param {boolean} mentioned Whether or not these stories are mentioned stories\n     * @returns {JSX} The rendered stories list\n     */\n    renderStories(mentioned) {\n        // determine whether to get direct or mentioned stories\n        const stories = mentioned ? this.props.storiesMentioned : this.props.stories;\n        // if there are no associated stories, leave a message indicating this\n        if (stories.length === 0) {\n            return (\n                <div className=\"cell medium-10 large-9 list-content stories\">\n                    <div className=\"callout alert\">\n                        <h6>There are no {mentioned} stories.</h6>\n                    </div>\n                </div>\n            );\n        } else {\n            // create a list of the stories to display\n            return (\n                <div className=\"cell medium-10 large-9 list-content stories\">\n                    <ul>\n                        {/* for each of the stories */}\n                        {stories.map((story, i) => {\n                            // get its full name and ID\n                            const {full_name, story_id} = story;\n                            return <li\n                                // key for react rerendering\n                                key={i}\n                                // when this is clicked\n                                onClick={() => {\n                                    // open up the story and add it to the graph\n                                    this.clickHandler.bind(this)(story_id, full_name, \"Stories\", story);\n                                }}>\n                                <img className={\"icon-item\"} src={require(\"../Navigation/icons8-chat-filled-32.png\")} alt=\"story\" />\n                                {/* text should be the name of the story */}\n                                {full_name}\n                            </li>;\n                        })}\n                    </ul>\n                </div>\n            );\n        }\n\n    }\n\n    renderBiography() {\n        let {bio, object} = this.props;\n        // assuming there is actually an author\n        if (bio !== null) {\n            // get various attributes of the author\n            let {birth_date, death_date, full_name, intro_bio, person_id} = bio;\n            return (\n                <div className=\"cell medium-10 large-9 content\">\n                    <div className=\"grid-y\">\n                        <div className=\"cell medium-3\">\n                            <div className=\"grid-x informant-bio-container\">\n                                <img src={require(`./informant_images/${[90, 123, 150, 235, 241].includes(object.informant_id) ? `${object.informant_id}.jpg` : \"noprofile.png\"}`)}\n                                    className=\"cell medium-6\" alt={object.full_name} />\n                                <div className=\"cell medium-6 details\">\n                                    <div><b>Born</b> {birth_date}</div>\n                                    <div><b>Died</b> {death_date}</div>\n                                    <div><b>ID#</b> {object.informant_id}</div>\n                                    <a onClick={() => {\n                                        // if (per)\n                                        this.clickHandler(person_id, full_name, \"People\", bio);\n                                    }} className=\"button\">Informant Page</a>\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"cell medium-9 biography\">\n                            {intro_bio}\n                        </div>\n                    </div>\n                </div>\n            );\n        } else {\n            // no author, notify the viewer\n            return (\n                <div className=\"cell medium-10 large-9 list-content\">\n                    <div className=\"callout alert\">\n                        <h6>There is no associated informant.</h6>\n                    </div>\n                </div>\n            );\n        }\n    }\n\n    render() {\n        return (\n            <div className=\"medium-1 RightBar cell\">\n                <div className=\"grid-y\">\n                    <SlidingPane\n                        className=\"right-bar full\"\n                        overlayClassName=\"some-custom-overlay-class\"\n                        isOpen={this.state.isPaneOpen}\n                        width=\"35vw\"\n                        onRequestClose={() => {\n                            // triggered on \"<\" on left top click or on outside click\n                            this.setState({\n                                \"isPaneOpen\": false,\n                                \"people\": false,\n                                \"bio\": false,\n                                \"places\": false,\n                                \"stories\": false,\n                                \"storiesMentioned\": false,\n                            });\n                        }}>\n                        <div className=\"grid-x control-container\">\n                            {/* side bar controls*/}\n                            <div className=\"cell medium-2 large-3 controls\">\n                                <div className=\"grid-y\">\n                                    {this.renderControls()}\n                                </div>\n                            </div>\n                            {/* side bar contents*/}\n                            {this.renderContent()}\n                        </div>\n                    </SlidingPane>\n                    {this.renderControls()}\n                </div>\n            </div>\n\n        );\n    }\n}\n\nRightBar.propTypes = {\n    \"bio\": PropTypes.shape({\n        \"birth_date\": PropTypes.string.isRequired,\n        \"death_date\": PropTypes.string.isRequired,\n        \"full_name\": PropTypes.string.isRequired,\n        \"intro_bio\": PropTypes.string.isRequired,\n        \"person_id\": PropTypes.number.isRequired,\n    }).isRequired,\n    \"object\": PropTypes.shape({\n        \"full_name\": PropTypes.string.isRequired,\n        \"informant_first_name\": PropTypes.string.isRequired,\n        \"informant_last_name\": PropTypes.string.isRequired,\n        \"informant_id\": PropTypes.number.isRequired,\n    }),\n    \"people\": PropTypes.array.isRequired,\n    \"stories\": PropTypes.array,\n    \"storiesMentioned\": PropTypes.array,\n    \"tabViewerActions\": PropTypes.object.isRequired,\n    \"places\": PropTypes.any.isRequired,\n    \"view\": PropTypes.oneOf([\"Fieldtrips\", \"People\", \"Places\", \"Stories\"]),\n};\n\n// define any necessary missing values\nRightBar.defaultProps = {\n    \"bio\": {\n        \"birth_date\": \"\",\n        \"death_date\": \"\",\n        \"full_name\": \"\",\n        \"intro_bio\": \"\",\n        \"person_id\": null,\n    },\n    \"object\": {\n        \"full_name\": \"\",\n        \"informant_first_name\": \"\",\n        \"informant_last_name\": \"\",\n        \"informant_id\": null,\n    },\n    \"people\": [],\n    \"stories\": [],\n    \"storiesMentioned\": [],\n    \"places\": \"Stories\",\n    \"view\": \"\",\n};\n\nRightBar.propTypes = {\n    \"tabActions\": PropTypes.object,\n};\n\nfunction mapStateToProps(state) {\n    return {\n        \"state\": state.tabViewer,\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        \"tabViewerActions\": bindActionCreators(tabViewerActions, dispatch),\n    };\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(RightBar);\n","import React, {Component} from \"react\";\nimport Modal from \"react-modal\";\nimport \"react-sliding-pane/dist/react-sliding-pane.css\";\nimport RightBar from \"../RightBar/RightBar\";\nimport {getPeopleByID, getPlacesByID} from \"../../data-stores/DisplayArtifactModel\";\nimport {arrayTransformation, getPlaceIDList} from \"../../utils\";\nimport {addNode} from \"../NexusGraph/NexusGraphModel\";\nimport \"./StoryView.css\";\nimport MapView from \"../MapView/MapView\";\nimport PropTypes from \"prop-types\";\nimport {bindActionCreators} from \"redux\";\nimport * as searchActions from \"../../actions/searchActions\";\nimport * as tabViewerActions from \"../../actions/tabViewerActions\";\nimport connect from \"react-redux/es/connect/connect\";\n\nconst indexToVersion = {\n    \"0\": \"english_manuscript\",\n    \"1\": \"english_publication\",\n    \"2\": \"danish_manuscript\",\n    \"3\": \"danish_publication\",\n};\n\nclass StoryView extends Component {\n    constructor(props) {\n        super(props);\n        // set initial state\n        this.state = {\n            // start with the first accordion tab open\n            \"openTab\": 0,\n            \"storyVersionOpen\": [true, false, false, false, false],\n            // two versions wouldn't be open\n            \"twoVersions\": false,\n            \"lastStoryVersionOpen\": 0,\n        };\n        // out of all the story's places\n        this.placeRecorded = arrayTransformation(props.story.places.place)\n            // find the one that is where this story was recorded\n            .find((place) => place.type === \"place_recorded\");\n        // out of all the story's places\n        this.placesMentioned = arrayTransformation(props.story.places.place)\n            // find the ones that are mentioned in story\n            .filter(place => place.type === \"place_mentioned\");\n        // properly bind functions so that they work inside sub-elements\n        this.renderStories = this.renderRelatedStories.bind(this);\n        this.renderProperty = this.renderProperty.bind(this);\n        this.accordionHandler = this.accordionHandler.bind(this);\n    }\n\n    componentDidMount() {\n        Modal.setAppElement(this.el);\n    }\n\n    renderRelatedStories() {\n        // get related stories\n        const {stories_mentioned} = this.props.story;\n        // if we actually have any related stories\n        if (stories_mentioned !== null) {\n            return (\n                <ul>\n                    {/* for each mentioned story */}\n                    {arrayTransformation(stories_mentioned.story).map((story, i) => {\n                        // get its id, display name\n                        const {story_id, full_name} = story;\n                        return <li\n                            key={i}\n                            className=\"associated-items\"\n                            onClick={() => {\n                                // add the story as a node on the graph\n                                addNode(story_id, full_name, \"Stories\", story);\n                                // open up the story in a new tab\n                                this.props.actions.addTab(story_id, full_name, \"Stories\");\n                            }}>\n                            {full_name}\n                        </li>;\n                    })}\n                </ul>\n            );\n        } else {\n            // no related stories, notify the viewer\n            return (\n                <div className=\"callout alert\">\n                    <h6>No related stories.</h6>\n                </div>\n            );\n        }\n    }\n\n    /**\n     * Handle a click on the left accordion tri-tabs\n     * @param {*} tab Tab that was clicked\n     */\n    accordionHandler(tab) {\n        this.setState({\n            // if we clicked on a new tab, make that active\n            // otherwise we are trying to hide the current tab, so no active tab\n            \"openTab\": tab,\n        });\n    }\n\n    bibliographicReferences() {\n        const {bibliography_references} = this.props.story;\n        // no references, alert the viewer\n        if (bibliography_references === null || bibliography_references.reference.length === 0) {\n            return <div className=\"callout alert\">\n                <h6>No references for this story.</h6>\n            </div>;\n        } else {\n            return <table>\n                <tbody>{\n                    // display each reference on a row\n                    arrayTransformation(bibliography_references.reference).map((reference) => {\n                        const {display_string} = reference;\n                        return <tr key={display_string}>\n                            {/* parse the html and display it (to show the formatting/italics, etc.) */}\n                            <td dangerouslySetInnerHTML={{\"__html\": display_string}} />\n                        </tr>;\n                    })}\n                </tbody>\n            </table>;\n        }\n    }\n\n    storyViewerClickHandler(version) {\n        this.setState((prevState) => {\n            // get relevant previous conditions\n            let {lastStoryVersionOpen, storyVersionOpen, twoVersions} = prevState;\n            // total number of open manuscripts\n            let versionCount = storyVersionOpen.reduce((totalOpen, version) => version ? totalOpen + 1 : totalOpen);\n            // if clicked version is already open\n            if (storyVersionOpen[version] === true) {\n                // if we alreay have two tabs open\n                if (versionCount >= 2) {\n                    // close the clicked tab\n                    storyVersionOpen[version] = false;\n                }\n                // we have ensured that only one view is open by closing if necessary\n                twoVersions = false;\n                // set last open view to be the one remaining open view\n                lastStoryVersionOpen = storyVersionOpen.findIndex((version) => version);\n            } else {\n                // we are going to have 2 views open\n                twoVersions = true;\n                // if we already have at least two versions open\n                if (versionCount >= 2) {\n                    // close the last open version\n                    storyVersionOpen[prevState.lastStoryVersionOpen] = false;\n                }\n                // open clicked version\n                storyVersionOpen[version] = true;\n                // clicked version is now the last version that was opened\n                lastStoryVersionOpen = version;\n            }\n            return {\n                storyVersionOpen,\n                lastStoryVersionOpen,\n                twoVersions,\n            };\n        });\n    }\n\n    renderProperty(property) {\n        // if the property is defined, that should be displayed, otherwise not applicable\n        return property !== null && typeof property !== \"undefined\" ? property : \"N/A\";\n    }\n\n    renderComponentView(component, name) {\n        // if the component is defiend, it should be displayed, otherwise notify that it doesn't exist\n        return component !== null && typeof component !== \"undefined\" ? component : (\n            <div className=\"callout alert\">\n                <h6>{name} does not exist.</h6>\n            </div>\n        );\n    }\n\n    render() {\n        const {story} = this.props;\n        const {\n            annotation,\n            etk_index,\n            fielddiary_page_end,\n            fielddiary_page_start,\n            fieldtrip,\n            fieldtrip_end_date,\n            fieldtrip_start_date,\n            full_name,\n            genre,\n            informant_id,\n            informant_full_name,\n            keywords,\n            order_told,\n            places,\n            tango_indices,\n        } = story;\n        const personData = getPeopleByID(informant_id);\n        const {openTab, storyVersionOpen, twoVersions} = this.state;\n        const PlaceObjectArray = places.place;\n        const PlacesArray = getPlaceIDList(arrayTransformation(places.place)).map(placeID => getPlacesByID(placeID));\n        return (\n            <div className=\"StoryView grid-x\">\n                <div className=\"medium-3 cell\">\n                    <div style={{'height':'30vh'}}>\n                        <MapView places={PlacesArray} />\n                    </div>\n                    <ul className=\"accordion\" data-accordian>\n                        <li className={`accordion-item ${openTab === 0 ? \"is-active\" : \"\"}`}>\n                            <a\n                                className=\"accordion-title\"\n                                onClick={() => {\n                                    // when clicked, toggle the top tab\n                                    this.accordionHandler(0);\n                                }}>Story Data</a>\n                            {/* only show story data if that is the open accordion tab */}\n                            {openTab === 0 &&\n                                <div className=\"body\">\n                                    <b>Order Told</b> {this.renderProperty(order_told)}<br />\n                                    <b>Recorded during fieldtrip</b> {this.renderProperty(fieldtrip.id)}<br />\n                                    <b>Fieldtrip dates</b> {this.renderProperty(fieldtrip_start_date)} to {this.renderProperty.bind(this)(fieldtrip_end_date)}<br />\n                                    <b>Place recorded</b> {\n                                        // is there a properly set place recorded?\n                                        typeof this.placeRecorded !== \"undefined\"\n                                            // if so, return it\n                                            ? <button\n                                                // make it a button-well\n                                                className=\"button keyword-well\"\n                                                // when it is clicked\n                                                onClick={() => {\n                                                    // open up this place's tab\n                                                    this.props.actions.addTab(this.placeRecorded.place_id, this.placeRecorded.name, \"Places\");\n                                                    // display the place name\n                                                }}>{this.placeRecorded.name}</button>\n                                            // otherwise, it isn't applicable\n                                            : \"N/A\"}\n                                    <br />\n                                    <b>Field diary pages</b> {\n                                        // are there field diary pages?\n                                        fielddiary_page_start !== \"No field diary recording\"\n                                            // if so, list them out\n                                            ? `${fielddiary_page_start} to ${fielddiary_page_end}`\n                                            // otherwise, it's not applicable\n                                            : \"N/A\"}\n                                    <br />\n                                    <b>Associated Keywords</b><br />{\n                                        // for each of the keywords\n                                        arrayTransformation(keywords.keyword).map((keyword) => (\n                                            // return a well that triggers a serach by that keyword when clicked\n                                            <button\n                                                // make it a button-well\n                                                className=\"button keyword-well\"\n                                                key={keyword.keyword}\n                                                // when it is clicked\n                                                onClick={() => {\n                                                    // start a search by this keyword\n                                                    this.props.actions.searchArtifact(keyword.keyword);\n                                                    // go home to show the results\n                                                    this.props.actions.switchTabs(0);\n                                                }}>{keyword.keyword}</button>))}\n                                    <br />\n                                    <b>Places mentioned in story</b> {\n                                        // are there any mentioned places\n                                        this.placesMentioned.length > 0\n                                            // if so, for each of the mentioned places\n                                            ? this.placesMentioned.map((place, i) => {\n                                                return <button\n                                                    key={i}\n                                                    // make it a button-well\n                                                    className=\"button keyword-well\"\n                                                    // when it is clicked\n                                                    onClick={() => {\n                                                        // open up the tab related to this place\n                                                        this.props.actions.addTab(place.place_id, place.name, \"Places\");\n                                                    }}>{place.name}</button>;\n                                                // otherwise, this is not applicable\n                                            }) : \"N/A\"}\n                                </div>}\n                        </li>\n                        <li className={`accordion-item ${openTab === 1 ? \"is-active\" : \"\"}`}>\n                            <a\n                                className=\"accordion-title\"\n                                onClick={() => {\n                                    // when clicked, toggle the middle tab\n                                    this.accordionHandler(1);\n                                }}>Story Indices</a>\n                            {/* only show indices if that is the open accordion tab */}\n                            {openTab === 1 &&\n                                <div className=\"body\">\n                                    <b>Genre</b> <button className=\"button keyword-well\">{genre.name}</button><br />\n                                    <b>ETK Index</b> <button className=\"button keyword-well\">{etk_index.heading_english}</button><br />\n                                    <b>Tangherlini Indices</b><br />\n                                    {arrayTransformation(tango_indices.tango_index).map((index, i) => {\n                                        return <div className=\"button keyword-well\" key={i}>{index.display_name}</div>;\n                                    })}\n                                </div>}\n                        </li>\n\n                        <li className={`accordion-item ${openTab === 2 ? \"is-active\" : \"\"}`}>\n                            <a\n                                className=\"accordion-title\"\n                                onClick={() => {\n                                    // when clicked, toggle the bottom tab\n                                    this.accordionHandler(2);\n                                }}>Bibliographical References</a>\n                            {/* only show references if that is the open tab */}\n                            {openTab === 2 &&\n                                <div className=\"body\">\n                                    {this.bibliographicReferences.bind(this)()}\n                                </div>}\n                        </li>\n                    </ul>\n                </div>\n                <div className=\"medium-9 cell\">\n                    <h2 className=\"title\">\n                        <img src=\"https://png.icons8.com/ios/42/000000/chat-filled.png\"\n                            style={{\"marginTop\": \"-1%\", \"marginRight\": \"1%\"}} alt=\"story icon\" />\n                        {full_name}\n                    </h2>\n                    <h4 style={{\"marginLeft\": \"1.5%\"}}>{informant_full_name}</h4>\n                    <div className=\"grid-x\">\n                        <div className=\"medium-11 cell\">\n                            <div className=\"grid-padding-x\">\n                                <div className=\"story-viewer cell\">\n                                    <ul className=\" button-group story-viewer-options\">\n                                        <li className={`button ${storyVersionOpen[0] ? \"\" : \"secondary\"}`}\n                                            onClick={(e) => {\n                                                e.preventDefault();\n                                                this.storyViewerClickHandler.bind(this)(0);\n                                            }}>English ms Translation</li>\n                                        <li className={`button ${storyVersionOpen[1] ? \"\" : \"secondary\"}`}\n                                            onClick={(e) => {\n                                                e.preventDefault();\n                                                this.storyViewerClickHandler.bind(this)(1);\n                                            }}>English Published Version</li>\n                                        <li className={`button ${storyVersionOpen[2] ? \"\" : \"secondary\"}`}\n                                            onClick={(e) => {\n                                                e.preventDefault();\n                                                this.storyViewerClickHandler.bind(this)(2);\n                                            }}>Danish ms Transcription</li>\n                                        <li className={`button ${storyVersionOpen[3] ? \"\" : \"secondary\"}`}\n                                            onClick={(e) => {\n                                                e.preventDefault();\n                                                this.storyViewerClickHandler.bind(this)(3);\n                                            }}>Danish Published Version</li>\n                                    </ul>\n                                    <div className=\"grid-x\">\n                                        {storyVersionOpen.map((version, i) => {\n                                            if (version) {\n                                                return <div className={`cell story ${twoVersions ? \"medium-6\" : \"\"}`} key={i}>\n                                                    <div className=\"card\">\n                                                        <div className=\"card-section\">\n                                                            {this.renderComponentView.bind(this)(story[indexToVersion[i]], \"Version\")}\n                                                        </div>\n                                                    </div>\n                                                </div>;\n                                            } else {\n                                                return null;\n                                            }\n                                        })}\n                                    </div>\n                                </div>\n                                <div className=\"cell\">\n                                    <div className=\"grid-x\">\n                                        <div className=\"medium-8 cell\">\n                                            <div className=\"card annotation\">\n                                                <h5 className=\"title\">Annotation</h5>\n                                                <div className=\"card-section\">\n                                                    {this.renderComponentView.bind(this)(annotation, \"Annotation\")}\n                                                </div>\n                                            </div>\n                                        </div>\n                                        <div className=\"medium-4 cell relatedStories\">\n                                            <h5 className=\"title\">Related Stories</h5>\n                                            {this.renderRelatedStories.bind(this)()}\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <RightBar\n                            view=\"Stories\"\n                            object={story}\n                            bio={personData}\n                            places={PlaceObjectArray}\n                            // if the author is valid, show its stories under the stories tab\n                            stories={personData !== null ? personData.stories : []} />\n                    </div>\n\n                </div>\n\n            </div >\n        );\n    }\n}\n\nStoryView.propTypes = {\n    \"actions\": PropTypes.object.isRequired,\n    \"story\": PropTypes.shape({\n        \"annotation\": PropTypes.string.isRequired,\n        \"bibliographic_info\": PropTypes.string,\n        \"bibliography_references\": PropTypes.shape({\n            \"reference\": PropTypes.array,\n        }).isRequired,\n        \"danish_manuscript\": PropTypes.string,\n        \"danish_publication\": PropTypes.string,\n        \"english_manuscript\": PropTypes.string,\n        \"english_publication\": PropTypes.string,\n        \"etk_index\": PropTypes.shape({\n            \"heading_danish\": PropTypes.string,\n            \"heading_english\": PropTypes.string,\n            \"id\": PropTypes.number,\n        }),\n        \"fielddiary_page_end\": PropTypes.string,\n        \"fielddiary_page_start\": PropTypes.string,\n        \"fieldtrip\": PropTypes.shape({\n            \"id\": PropTypes.number,\n        }),\n        \"full_name\": PropTypes.string,\n        \"genre\": PropTypes.shape({\n            \"id\": PropTypes.number,\n            \"name\": PropTypes.string,\n        }),\n        \"informant_first_name\": PropTypes.string,\n        \"informant_full_name\": PropTypes.string,\n        \"informant_id\": PropTypes.number,\n        \"informant_last_name\": PropTypes.string,\n        \"keywords\": PropTypes.shape({\n            \"keyword\": PropTypes.array,\n        }),\n        \"order_told\": PropTypes.number,\n        \"places\": PropTypes.any,\n        \"publication_info\": PropTypes.string,\n        \"stories_mentioned\": PropTypes.any,\n        \"story_id\": PropTypes.number,\n        \"tango_indices\": PropTypes.shape({\n            \"tango_index\": PropTypes.array,\n        }),\n    }),\n};\n\n/**\n * Set certain props to access Redux states\n * @param {Object} state All possible Redux states\n * @returns {Object} Certain states that are set on props\n */\nfunction mapStateToProps(state) {\n    return {\n        \"state\": state.tabViewer,\n    };\n}\n\n/**\n * Set the \"actions\" prop to access Redux actions\n * @param {*} dispatch Redux actions\n * @returns {Object} The actions that are mapped to props.actions\n */\nfunction mapDispatchToProps(dispatch) {\n    return {\n        \"actions\": {\n            ...bindActionCreators(searchActions, dispatch),\n            ...bindActionCreators(tabViewerActions, dispatch),\n        },\n    };\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(StoryView);\n","import React, {Component} from \"react\";\nimport RightBar from \"../RightBar/RightBar\";\nimport \"./PlaceView.css\";\nimport MapView from \"../MapView/MapView\";\nimport PropTypes from \"prop-types\";\nimport {arrayTransformation} from \"../../utils\";\n\nclass PlaceView extends Component {\n    render() {\n        const {place} = this.props;\n        let {name, people, storiesCollected, storiesMentioned} = place;\n        // ensure that the person is properly defined\n        if (typeof people !== \"undefined\") {\n            // if so, extract the person\n            people = arrayTransformation(people[0].person);\n        } else {\n            // otherwise set it to be empty\n            people = [];\n        }\n        storiesCollected = arrayTransformation(storiesCollected);\n        storiesMentioned = arrayTransformation(storiesMentioned);\n        return (\n            <div className=\"PlaceView grid-y\">\n                <div className=\"tab-header cell medium-1\">\n                    <img style={{\"marginTop\": \"-1.7%\", \"marginRight\": \"1%\"}} src=\"https://png.icons8.com/windows/48/000000/marker.png\" alt=\"location icon\" />\n                    <h2 style={{\"fontWeight\": \"bold\", \"display\": \"inline-block\"}}>{name}</h2>\n                </div>\n                <div className=\"medium-11\">\n                    <div className=\"grid-x place-content-wrapper\">\n                        <div className=\"medium-11 cell\">\n                            <MapView places={[place]} />\n                        </div>\n                        <RightBar view=\"Places\" stories={storiesCollected} storiesMentioned={storiesMentioned} people={people} />\n                    </div>\n                </div>\n\n            </div>\n        );\n    }\n}\n\nPlaceView.propTypes = {\n    \"place\": PropTypes.shape({\n        \"fieldtrips\": PropTypes.oneOfType([\n            PropTypes.object,\n            PropTypes.number,\n        ]),\n        \"latitude\": PropTypes.number,\n        \"longitude\": PropTypes.number,\n        \"name\": PropTypes.string.isRequired,\n        \"people\": PropTypes.array,\n        \"place_id\": PropTypes.number,\n        \"storiesCollected\": PropTypes.array,\n        \"storiesMentioned\": PropTypes.array,\n    }).isRequired,\n};\n\n// define any necessary missing values\nPlaceView.defaultProps = {\n    \"place\": {\n        \"name\": \"\",\n        \"people\": [],\n        \"storiesCollected\": [],\n        \"storiesMentioned\": [],\n    },\n};\n\nexport default PlaceView;\n","/**\n * Created by danielhuang on 2/6/18.\n */\nimport React, {Component} from \"react\";\nimport RightBar from \"../RightBar/RightBar\";\nimport \"./PeopleView.css\";\nimport {getPlacesByID, OccupationDictionary} from \"../../data-stores/DisplayArtifactModel\";\nimport {arrayTransformation, getPlaceIDList} from \"../../utils\";\nimport MapView from \"../MapView/MapView\";\n// prop validation\nimport PropTypes from \"prop-types\";\nimport {bindActionCreators} from \"redux\";\nimport * as tabViewerActions from \"../../actions/tabViewerActions\";\nimport connect from \"react-redux/es/connect/connect\";\n\nconst CIToChapterID = {\n    1 : 6,\n    2 : 7,\n    3 : 8,\n    4 : 9,\n    5 : 10,\n};\n\nclass PeopleView extends Component {\n    getOccupation() {\n        // get the person we are using\n        let {person} = this.props;\n        // assuming we have occupations\n        if (person.occupations !== null) {\n            // get the occupations\n            let jobList = person.occupations.occupation;\n            // if it's a single job, turn it into a single element array\n            jobList = arrayTransformation(jobList);\n            // for each of the jobs\n            jobList.forEach(function(occupation) {\n                // set its name to be that of the matching job in the occupation dictionary\n                occupation.occupation_name = OccupationDictionary.find((testOccupation) => testOccupation.ID === occupation.occupation_id).occupation;\n            });\n            // for the list of jobs\n            return jobList\n                // combine them into a comma and space separate string\n                .reduce((res, job) => `${res}, ${job.occupation_name}`, \"\")\n                // and remove the initial comma and space\n                .substring(2);\n        } else {\n            // no job, alert this\n            return \"No Occupation\";\n        }\n    }\n\n    openCoreInformantTab(){\n        console.log('hi');\n        if(this.props.person.hasOwnProperty(\"core_informant\")){\n            let CoreInformantID = this.props.person['core_informant'];\n            if(CoreInformantID > 0 && CoreInformantID <= 5){\n                let QueryID = CIToChapterID[CoreInformantID];\n                this.props.tabViewerActions.addTab(QueryID, this.props.person['full_name'], \"Book\");\n            }\n        }\n    }\n\n    render() {\n        console.log(this.props.person);\n        let Places = [];\n        this.props.person.places.forEach((place)=>{\n            var Place = {\n                ...getPlacesByID(place.place_id),\n                display_name:place.display_name,\n            };\n            Places.push(Place);\n        });\n        return (\n            <div className=\"PeopleView grid-y\">\n                <div className=\"tab-header cell medium-1\">\n                    <img style={{\"marginTop\": \"-1.7%\", \"marginRight\": \"1%\"}} src=\"https://png.icons8.com/windows/64/000000/contacts.png\" alt=\"person icon\" />\n                    <h2 style={{\"fontWeight\": \"bold\", \"display\": \"inline-block\"}}>{this.props.person.full_name}</h2>\n                </div>\n                <div className=\"cell medium 11\">\n                    <div className=\"grid-x\" >\n                        <div className=\"medium-7 cell\">\n                            <div className=\"grid-y info-wrap\">\n                                <div className=\"cell medium-5\">\n                                    <div className=\"grid-x informant-bio-container\">\n                                        <img src={require(`../RightBar/informant_images/${[90, 123, 150, 235, 241].includes(this.props.person.person_id) ? `${this.props.person.person_id}.jpg` : \"noprofile.png\"}`)}\n                                            className=\"cell medium-4\" alt=\"Person\" />\n                                        <div className=\"cell medium-8 details\">\n                                            <div className=\"detail-item\"><b>Born</b> {this.props.person.birth_date}</div>\n                                            <div className=\"detail-item\"><b>Died</b> {this.props.person.death_date}</div>\n                                            <div className=\"detail-item\"><b>ID#</b> {this.props.person.person_id}</div>\n                                            <div className=\"detail-item\"><b>Occupation (Eng/Dansk):</b> {this.getOccupation()}</div>\n                                            <buttom className=\"button primary\"\n                                                onClick={(e)=>{e.preventDefault(); this.openCoreInformantTab.bind(this)()}}\n                                            >Full Biography</buttom>\n                                        </div>\n                                    </div>\n                                </div>\n                                <div className=\"cell medium-7 wrapper person-bio\">\n                                    {this.props.person.intro_bio}\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"medium-4 cell map-wrapper\">\n                            <MapView places={\n                                Places\n                            } view=\"People\"/>\n                        </div>\n                        <RightBar\n                            view=\"People\"\n                            stories={this.props.person.stories}\n                            places={this.props.person.places}\n                        />\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nPeopleView.propTypes = {\n    \"person\": PropTypes.shape({\n        \"birth_date\": PropTypes.string.isRequired,\n        \"core_informant\": PropTypes.number,\n        \"death_date\": PropTypes.string.isRequired,\n        \"first_name\": PropTypes.string,\n        \"fullbio\": PropTypes.string,\n        \"full_name\": PropTypes.string.isRequired,\n        \"gender\": PropTypes.string,\n        \"last_name\": PropTypes.string,\n        \"image\": PropTypes.string,\n        \"intro_bio\": PropTypes.string.isRequired,\n        \"occupations\": PropTypes.object,\n        \"person_id\": PropTypes.number.isRequired,\n        \"places\": PropTypes.array.isRequired,\n        \"stories\": PropTypes.array.isRequired,\n        // must have tabViewerActions to open up a new book tab\n        \"tabViewerActions\": PropTypes.object.isRequired,\n    }),\n};\n\nfunction mapStateToProps(state) {\n    return {\n        \"state\": state.tabViewer,\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        \"tabViewerActions\": bindActionCreators(tabViewerActions, dispatch),\n    };\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(PeopleView);\n","import React, {Component} from \"react\";\nimport RightBar from \"../RightBar/RightBar\";\nimport \"./FieldtripView.css\";\nimport PropTypes from \"prop-types\";\nimport MapView from \"../MapView/MapView\";\nimport {getPlacesByID} from \"../../data-stores/DisplayArtifactModel\";\n\nclass FieldtripView extends Component {\n    render() {\n        let PlacesVisited = [];\n        this.props.fieldtrip.places_visited.forEach((place)=>{\n           let Place = getPlacesByID(place.place_id);\n           if(Place.longitude !== null && Place.latitude !== null){\n               PlacesVisited.push({\n                   ...place,\n                   longitude: Place.longitude,\n                   latitude: Place.latitude,\n               });\n           }\n        });\n        return (\n            <div className=\"FieldtripView grid-x\">\n                <div className=\"medium-11 cell main\">\n                    {/* should add more later, currently only displays timing of the fieldtrip*/}\n                    <h3>{this.props.fieldtrip.fieldtrip_name}</h3>\n                    <h4>{this.props.fieldtrip.start_date} to {this.props.fieldtrip.end_date}</h4>\n                    <MapView places={PlacesVisited} view={\"Fieldtrip\"}/>\n                </div>\n                {/* right bar with all the relevant PPS for the fieldtrip */}\n                <RightBar view=\"Fieldtrips\"\n                    people={this.props.fieldtrip.people_visited}\n                    stories={this.props.fieldtrip.stories_collected}\n                    places={this.props.fieldtrip.places_visited}\n                    className=\"medium-1 cell\"\n                />\n            </div>\n        );\n    }\n}\n\n// ensure that we get our standard fieldtrip object passed\n// https://github.com/ScandinavianSection-UCLA/Nexus2/wiki/3.-Data-Structure#fieldtrip-object\n// note that people_visited, places_visited, and stories_collected seem to be array-ified before being passed here\nFieldtripView.propTypes = {\n    \"fieldtrip\": PropTypes.shape({\n        \"end_date\": PropTypes.string.isRequired,\n        \"fieldtrip_id\": PropTypes.number,\n        \"fieldtrip_name\": PropTypes.string.isRequired,\n        \"people_visited\": PropTypes.array.isRequired,\n        \"places_visited\": PropTypes.array.isRequired,\n        \"shapefile\": PropTypes.string,\n        \"start_date\": PropTypes.string.isRequired,\n        \"stories_collected\": PropTypes.array.isRequired,\n    }).isRequired,\n};\n\n// define any necessary missing values\nFieldtripView.defaultProps = {\n    \"fieldtrip\": {\n        \"end_date\": \"\",\n        \"fieldtrip_name\": \"\",\n        \"people_visited\": [],\n        \"places_visited\": [],\n        \"start_date\": \"\",\n        \"stories_collected\": [],\n    },\n};\n\nexport default FieldtripView;\n","// react functionality\nimport React, {Component} from \"react\";\n// prop validation\nimport PropTypes from \"prop-types\";\n// styling for the view\nimport \"./BookView.css\";\n// book viewer\nimport ePub from \"epubjs\";\n// redux functionality\nimport {bindActionCreators} from \"redux\";\nimport {connect} from \"react-redux\";\n// actions to manipulate the tabs\nimport * as tabViewerActions from \"../../actions/tabViewerActions\";\n// data for the dropdown\nimport menuList from \"../../data/book_menu.json\";\n\nclass BookView extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            // start with the chapter list hidden\n            \"dropdownActive\": false,\n            // not searching at start\n            \"searchActive\": false,\n            \"searchJSX\": null,\n            \"searchValue\": \"\",\n        };\n        // to be set once the book is rendered\n        this.book = null;\n        this.rendition = null;\n        this.dropdownJSX = [];\n        // ref to the book div so we can render the content there\n        this.bookRef = React.createRef();\n        // bind the event handler so it works properly inside the listener\n        this.handleKeyPress = this.handleKeyPress.bind(this);\n    }\n\n    // called after the DOM loads for the first time\n    componentDidMount() {\n        // add an event listener for left and right arrow controls\n        document.addEventListener(\"keydown\", this.handleKeyPress, false);\n        // load the .epub book\n        this.book = ePub(\"/Book/merge_from_ofoct.epub\");\n        // when it has successfully loaded\n        this.book.loaded.navigation.then(({toc}) => {\n            // generate our TOC list based on the chapters\n            this.dropdownJSX = toc.map((chapter) => (\n                // each is a button\n                <button\n                    // style it as a TOC element\n                    className=\"toc-item\"\n                    // unique key for React\n                    key={chapter.label}\n                    // handler for when it is clicked\n                    onClick={() => {\n                        // go to the chapter that was clciked\n                        this.rendition.display(chapter.href);\n                        // hide the dropdown\n                        this.setState({\n                            \"dropdownActive\": false,\n                        });\n                    }}>\n                    {/* display the whitespace stripped version of the chapter title */}\n                    {chapter.label.trim()}\n                </button>\n            ));\n            // node to render the book to\n            const node = this.bookRef.current;\n            // render the book to the \"book\" div\n            this.rendition = this.book.renderTo(node, {\n                // make it occupy all that space\n                \"height\": \"100%\",\n                \"width\": \"100%\",\n            });\n            // variable to store the final location\n            let location;\n            // numerical ID means it's a chapter number\n            if (typeof this.props.id === \"number\") {\n                // get the corresponding spot in the book for the chapter\n                location = toc[menuList[this.props.id].id - 1].href;\n            } else if (typeof this.props.id === \"string\") {\n                // id is a string location in the book, use that\n                location = this.props.id;\n            } else {\n                // bad type, warn that\n                console.warn(\"Invalid id: \", this.props.id);\n            }\n            // display the book\n            this.rendition.display(location);\n            // update the tab's ID whenever the page is changed (so it can be re-loaded later)\n            this.rendition.on(\"locationChanged\", (newPage) => {\n                this.props.tabViewerActions.updateTab(this.props.viewIndex, {\n                    \"id\": newPage.start,\n                });\n            });\n        });\n    }\n\n    // called as the book is being switched away from/closed\n    componentWillUnmount() {\n        // \"delete\" the book and rendition\n        this.book = null;\n        this.rendition = null;\n        // remove our event listener\n        document.removeEventListener(\"keydown\", this.handleKeyPress, false);\n    }\n\n    // handler for key presses\n    handleKeyPress({key}) {\n        switch (key) {\n            // when the right arrow is clicked\n            case \"ArrowRight\":\n                // go to the next page\n                this.rendition.next();\n                break;\n            // when the left arrow is clicked\n            case \"ArrowLeft\":\n                // go to the previous page\n                this.rendition.prev();\n                break;\n        }\n    }\n\n    /**\n     * Handle a search in the book\n     * @param {String} query The string to search for\n     */\n    async handleSearch(query) {\n        // short queries cause it to stall, don't allow that\n        if (query.length >= 2) {\n            const results = await Promise.all(\n                // black magic to search the book: https://github.com/futurepress/epub.js/wiki/Tips-and-Tricks-%28v0.3%29#searching-the-entire-book\n                this.book.spine.spineItems\n                    .map((item) => item.load(this.book.load.bind(this.book))\n                        .then(item.find.bind(item, query))\n                        .finally(item.unload.bind(item)))\n            ).then((queries) => Promise.resolve(\n                // flatten the array into a 1-D array\n                [].concat(...queries)\n            ));\n            this.setState({\n                // show the results\n                \"searchActive\": true,\n                // convert the results into JSX\n                \"searchJSX\": results.map((entry, i) => (\n                    // each is a button\n                    <button\n                        // unique key for react\n                        key={i}\n                        // style it like a search result\n                        className=\"searchResult\"\n                        // when clicked\n                        onClick={() => {\n                            // go to the page this points to\n                            this.rendition.display(entry.cfi);\n                            // turn off the search since we want to see the box\n                            this.setState({\n                                \"searchActive\": false,\n                            });\n                        }}>\n                        {/* show the excerpt that matches the search */}\n                        {entry.excerpt}\n                    </button>\n                )),\n            });\n        }\n    }\n\n    render() {\n        return (\n            // div to contain book + button\n            <div className=\"BookView grid-y\">\n                {/* if TOC was requested */}\n                {this.state.dropdownActive === true &&\n                    <div className=\"toc\"\n                        // should anywhere be clicked, disable the dropdown\n                        onClick={() => {\n                            this.setState({\n                                \"dropdownActive\": false,\n                            });\n                        }}>\n                        {/* render the dropdown */}\n                        <div className=\"solid\">{this.dropdownJSX}</div>\n                    </div>}\n                {/* header */}\n                <div className=\"cell medium-1 grid-x\">\n                    {/* TOC opener */}\n                    <button\n                        // style it as a 2-column button\n                        className=\"button secondary cell medium-2\"\n                        // when it is clicked\n                        onClick={(event) => {\n                            // prevent the event from bubbling up (don't allow left page button to be clicked)\n                            event.stopPropagation();\n                            // show the dropdown\n                            this.setState({\n                                \"dropdownActive\": true,\n                            });\n                        }}>Table of Contents</button>\n                    {/* search form */}\n                    <form\n                        // it should fill up the remainder of the header\n                        className=\"cell medium-10 grid-x\"\n                        // if either submit button clicked or enter received\n                        onSubmit={(event) => {\n                            // prevent default redirect\n                            event.preventDefault();\n                            // handle the requested search\n                            this.handleSearch(this.state.searchValue);\n                        }}>\n                        {/* search input field */}\n                        <input\n                            // text input\n                            type=\"text\"\n                            // 2/3 of the form's width\n                            className=\"cell medium-8\"\n                            // placeholder to show if nothing typed\n                            placeholder=\"Search the book...\"\n                            // value based on what has been typed\n                            value={this.state.searchValue}\n                            // when a typing occurs\n                            onChange={(event) => {\n                                // update the search value in state\n                                this.setState({\n                                    \"searchValue\": event.target.value,\n                                });\n                            }} />\n                        {/* search button */}\n                        <input\n                            // trigger submit when clicked\n                            type=\"submit\"\n                            // 1/3 of form, make it look button-y\n                            className=\"button primary cell medium-4\"\n                            // text to display on the button\n                            value=\"Search\" />\n                    </form>\n                </div>\n                {/* hide the book but keep the elements in the DOM if a search is going */}\n                {/* this is so that the book still has its div to render to and doesn't break during a search */}\n                <div className={`cell medium-11 grid-x ${this.state.searchActive === true ? \"hidden\" : \"\"}`}>\n                    {/* button to go back a page */}\n                    <button\n                        // give it page turn styling\n                        className=\"cell medium-1 pager\"\n                        onClick={() => {\n                            // go to the left page on click\n                            this.rendition.prev();\n                            // show a large <\n                        }}>&lt;</button>\n                    {/* actual book content */}\n                    <div className=\"book cell medium-10\" ref={this.bookRef} />\n                    {/* button to go forward a page */}\n                    <button\n                        // give it page turn styling\n                        className=\"pager cell medium-1\"\n                        onClick={() => {\n                            // go to the right page on click\n                            this.rendition.next();\n                            // show a large >\n                        }}>&gt;</button>\n                </div>\n                {/* when the search results are to be shown */}\n                {this.state.searchActive === true &&\n                    <div className=\"cell medium-11 results\">\n                        {/* show the rendered results */}\n                        {this.state.searchJSX}\n                    </div>}\n            </div>\n        );\n    }\n}\n\nBookView.propTypes = {\n    \"id\": PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.number,\n    ]),\n    \"state\": PropTypes.shape({\n        \"views\": PropTypes.arrayOf(\n            PropTypes.shape({\n                \"active\": PropTypes.bool,\n                \"color\": PropTypes.string,\n                \"id\": PropTypes.oneOfType([\n                    PropTypes.number,\n                    PropTypes.string,\n                ]),\n                \"name\": PropTypes.string,\n                \"type\": PropTypes.string,\n            })\n        ).isRequired,\n    }).isRequired,\n    \"tabViewerActions\": PropTypes.shape({\n        \"addTab\": PropTypes.func,\n        \"closeTab\": PropTypes.func,\n        \"moveTab\": PropTypes.func,\n        \"switchTaxbs\": PropTypes.func,\n        \"updateTab\": PropTypes.func.isRequired,\n    }).isRequired,\n    \"viewIndex\": PropTypes.number.isRequired,\n};\n\n/**\n * Set certain props to access Redux states\n * @param {Object} state All possible Redux states\n * @returns {Object} Certain states that are set on props\n */\nfunction mapStateToProps(state) {\n    return {\n        \"state\": state.tabViewer,\n    };\n}\n\n/**\n * Set the \"tabViewerActions\" prop to access Redux actions\n * @param {*} dispatch Redux actions\n * @returns {Object} The actions that are mapped to props.actions\n */\nfunction mapDispatchToProps(dispatch) {\n    return {\n        \"tabViewerActions\": bindActionCreators(tabViewerActions, dispatch),\n    };\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(BookView);\n","// basic react functionality\nimport React, {Component} from \"react\";\n// styling for the buttons\nimport \"./GraphView.css\";\n// functions to get nodes + links\nimport {initializeGraph, initializeNodeCategories} from \"./NexusGraphModel\";\n// the actual graph\nimport NexusGraph from \"./NexusGraph\";\n// prop validation\nimport PropTypes from \"prop-types\";\n\nclass GraphView extends Component {\n    constructor() {\n        super();\n        // set a default state\n        this.state = {\n            // get nodes + links from storgae\n            \"data\": initializeGraph(),\n            // get categorized nodes from storage\n            \"nodeCategories\": initializeNodeCategories(),\n            // by default show primary links\n            \"showPrimaryLinks\": true,\n            // by default show secondary links\n            \"showSecondaryLinks\": true,\n        };\n\n        // properly bind these functions so that they can set the state\n        this.togglePrimaryLinks = this.togglePrimaryLinks.bind(this);\n        this.toggleSecondaryLinks = this.toggleSecondaryLinks.bind(this);\n    }\n\n    /**\n     * Toggle whether or not to show the primary links on the graph\n     */\n    togglePrimaryLinks() {\n        this.setState((prevState) => {\n            return {\n                // invert whether or not to show primary links\n                \"showPrimaryLinks\": !prevState.showPrimaryLinks,\n            };\n        });\n    }\n\n    /**\n     * Toggle whether or not to show the secondary links on the graph\n     */\n    toggleSecondaryLinks() {\n        this.setState((prevState) => {\n            return {\n                // invert whether or not to show secondary links\n                \"showSecondaryLinks\": !prevState.showSecondaryLinks,\n            };\n        });\n    }\n\n    /**\n     * Creates the graph and associated button, located at the top right of the home view\n     * @returns {JSX} The resulting graph + button\n     */\n    render() {\n        // get the current data and whether or not to show primary + secondary links\n        let {data, showPrimaryLinks, showSecondaryLinks} = this.state;\n        // get a copy of data BUT DO NOT MODIFY IT\n        let finalData = {...data};\n        // if we shouldn't show primary links\n        if (showPrimaryLinks === false) {\n            // filter out links without a linkNode (i.e. primary links)\n            finalData.links = finalData.links.filter(link => link.linkNode !== null);\n        }\n        // if we shouldn't show secondary links\n        if (showSecondaryLinks === false) {\n            // filter out links with a linkNode (i.e. secondary links)\n            finalData.links = finalData.links.filter(link => link.linkNode === null);\n        }\n        return (\n            // div to contain both the button and graph\n            <div className=\"grid-x NexusGraph\">\n                {/* contains the filters */}\n                <form className=\"medium-3 cell grid-y\" id=\"analysisTools\">\n                    <h3 className=\"cell\" id=\"heading\">Analysis Tools</h3>\n                    {/* toggle primary links filter */}\n                    <label className=\"cell tool\">\n                        <input\n                            // make it a checkbox\n                            type=\"checkbox\"\n                            // its state should be set by whether or not to show primary links\n                            checked={this.state.showPrimaryLinks}\n                            // when this is changed (i.e. pressed) call the togglePrimaryLinks function\n                            onChange={this.togglePrimaryLinks} />\n                        {/* give the text \"Primary\" a light blue color to indicate which links it matches to */}\n                        Show <span className=\"lightblue\">Primary</span> Links\n                    </label>\n                    <label className=\"cell tool\">\n                        <input\n                            // make it a checkbox\n                            type=\"checkbox\"\n                            // its state should be set by whether or not to show secondary links\n                            checked={this.state.showSecondaryLinks}\n                            // when this is changed (i.e. pressed) call the toggleSecondaryLinks function\n                            onChange={this.toggleSecondaryLinks} />\n                        {/* give the text \"Secondary\" a light green color to indicate which links it matches to */}\n                        Show <span className=\"lightgreen\">Secondary</span> Links\n                    </label>\n                </form>\n                {/* the actual graph */}\n                <div>\n                    <NexusGraph\n                        // give it 3/4 of the screen width\n                        className=\"medium-9 cell\"\n                        // nodes + links for the graph to render\n                        data={finalData}\n                        // a totality of all the nodes, sorted by type\n                        nodes={this.state.nodeCategories}\n                        // function to open a node's page if clicked\n                        openNode={this.props.openNode}\n                        // custom settings for the graph\n                        settings={{\n                            // set the height to occupy most of the screen\n                            \"height\": (window.innerHeight) * 0.83,\n                            // set the width to be just under 3/4 the screen width (so it doesn't overflow into a new row)\n                            \"width\": window.innerWidth * 0.745,\n                        }}\n                    />\n                </div>\n            </div>\n        );\n    }\n}\n\nGraphView.propTypes = {\n    \"openNode\": PropTypes.func.isRequired,\n};\n\nexport default GraphView;\n","// react functionality\nimport React, {Component} from \"react\";\n// the various possible views we could render\nimport HelpView from \"../HelpView/HelpView\";\nimport Navigation from \"../Navigation/Navigation\";\nimport StoryView from \"../StoryView/StoryView\";\nimport PlaceView from \"../PlaceView/PlaceView\";\nimport PeopleView from \"../PeopleView/PeopleView\";\nimport FieldtripView from \"../FieldtripView/FieldtripView\";\nimport BookView from \"../BookView/BookView\";\nimport GraphView from \"../NexusGraph/GraphView\";\n// functions to get info about PPFS\nimport * as model from \"../../data-stores/DisplayArtifactModel\";\n// CSS styling\nimport \"./TabViewer.css\";\n// prop validation\nimport PropTypes from \"prop-types\";\nimport {connect} from \"react-redux\";\nimport {bindActionCreators} from \"redux\";\n// actions to manipulate the tabs\nimport * as tabViewerActions from \"../../actions/tabViewerActions\";\n\nclass TabViewer extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            // starting off without a drag\n            \"dragIndicatorX\": null,\n        };\n        // to be set once a render is complete\n        this.dragIndicatorY = null;\n        this.dragIndicatorHeight = null;\n        // used for drag events\n        this.desiredIndex = null;\n        this.originalIndex = null;\n        // stores the left edge X-coordiantes of each tab\n        this.tabs = [];\n        // properly bind functions so that they can work in sub-elements\n        this.renderActiveTab = this.renderActiveTab.bind(this);\n    }\n\n    /**\n     * Render the main content of the app\n     * @param {*} id ID of the relevant person/place/story/fieldtrip/book to load (irrelevant for NexusGraph, Home)\n     * @param {String} type The type of view to load (People/Places/Fieldtrips/Stories/Home/Graph/Book)\n     * @param {Number} tabIndex Index of the tab being rendered (only necessary for BookView)\n     * @returns {JSX} The content of the relevant view\n     */\n    renderPPFS(id, type, tabIndex) {\n        // depending on the type of the view to render\n        switch (type) {\n            case \"People\":\n                // for people, return a PeopleView with the person retrieved by the passed ID\n                return <PeopleView person={model.getPeopleByID(id)} />;\n            case \"Places\":\n                // for places, return a PlaceView with the place retrieved by the passed ID\n                return <PlaceView place={model.getPlacesByID(id)} />;\n            case \"Fieldtrips\":\n                // for fieldtrip, return a FieldtripViewwith the fieldtrip retrieved by the passed ID\n                return <FieldtripView fieldtrip={model.getFieldtripsByID(id)} />;\n            case \"Stories\":\n                // for stories, return a StoryView with the story retrieved by the passed ID\n                return <StoryView story={model.getStoryByID(id)} />;\n            case \"Home\":\n                // for the Home tab, return the main Navigation view (home)\n                return <Navigation />;\n            case \"Graph\":\n                // for the graph, return the GraphView\n                return <GraphView />;\n            case \"Book\": {\n                // for the book, return the BookView, with the chapter ID that was selected\n                return <BookView viewIndex={tabIndex} id={id}/>;\n            }\n            case \"Help\":\n                return <HelpView />\n            default:\n                // if it wasn't one of the above types, warn that we hit an unknown type\n                console.warn(`Unhandled tab type: ${type}`);\n        }\n    }\n\n    /**\n     * Render the active tab as the main content of the page\n     * @returns {JSX} The rendered JSX\n     */\n    renderActiveTab() {\n        // search through the list of tabs for the active tab\n        const activeViewIndex = this.props.state.views.findIndex((view) => view.active);\n        const activeView = this.props.state.views[activeViewIndex];\n        // return the rendered content of the tab\n        return this.renderPPFS(activeView.id, activeView.type, activeViewIndex);\n    }\n\n    // called when a tab begins being dragged\n    handleDragStart(event, index) {\n        // set the tab to be gray\n        event.target.style.backgroundColor = \"#aaaaaa\";\n        // set appropriate data for the drag\n        this.originalIndex = index;\n        // so that Firefox actually lets us drag stuff\n        event.dataTransfer.setData(\"text/plain\", this.props.state.views[index].name);\n        event.dataTransfer.effectAllowed = \"move\";\n        event.dataTransfer.dropEffect = \"move\";\n    }\n\n    // called when a drag goes over a new tab\n    handleDragEnter(event, newIndex) {\n        // update where the tab would be placed if released\n        this.desiredIndex = newIndex;\n        this.setState({\n            // if drag is to the right, draw the drag indicator on the right of the tab where it would be dropped\n            // if it was to the left, draw the indicator on the left of the tab where it would be dropped\n            // if we are at the same index don't draw anything\n            \"dragIndicatorX\": newIndex > this.originalIndex ? this.tabs[newIndex].right\n                : newIndex < this.originalIndex ? this.tabs[newIndex].left : null,\n        });\n    }\n\n    // called when a tab stops being dragged (is released)\n    handleDragEnd(event) {\n        // move the dragged tab to the desired spot\n        this.props.tabViewerActions.moveTab(this.originalIndex, this.desiredIndex);\n        // reset indices of drag\n        this.originalIndex = null;\n        this.desiredIndex = null;\n        // reset the tab's color\n        event.target.style.backgroundColor = null;\n        // hide the drag indicator\n        this.setState({\n            \"dragIndicatorX\": null,\n        });\n    }\n\n    render() {\n        return (\n            <div className=\"TabViewer grid-container full\">\n                <div className=\"grid-y\">\n                    {/* Wrapper/container for the View, not including the tabs*/}\n                    <div className=\"view cell fill\"> {/* Class \"fill\" fills out the rest of the application space with the view*/}\n                        {/* Function below generates/sorts out which view should be displayed*/}\n                        {this.renderActiveTab()}\n                    </div>\n                    {/* List of tabs that are displayed at the bottom of the browser/app*/}\n                    <ul className=\"tabs cell medium-1\"> {/* medium-1 sets the height of the tabs*/}\n                        {/* for each tab to display */}\n                        {this.props.state.views.map((view, index) => (\n                                // return a tab JSX element\n                                <li\n                                    // based on the actual DOM element that results\n                                    ref={(instance) => {\n                                        // assuming we got a proper render\n                                        if (instance !== null) {\n                                            // set the width of the tabs in tabPos\n                                            this.tabs[index] = instance.getBoundingClientRect();\n                                            // set the Y coordinate of the drop indicator\n                                            this.dragIndicatorY = instance.getBoundingClientRect().y;\n                                            // set the height of the drop indicator\n                                            this.dragIndicatorHeight = instance.getBoundingClientRect().height;\n                                        }\n                                    }}\n                                    // callback when the tab is clicked\n                                    onClick={() => {\n                                        // if a tab is clicked, we should switch to that tab\n                                        this.props.tabViewerActions.switchTabs(index);\n                                    }}\n                                    // make everything but the home tab draggable\n                                    draggable={view.type !== \"Home\"}\n                                    // called when the tab begins being dragged, changes color of the dragged tab\n                                    onDragStart={(event) => {\n                                        this.handleDragStart(event, index);\n                                    }}\n                                    // called when the drag goes over a new tab\n                                    onDragEnter={(event) => {\n                                        // change the drag indicator appropriately\n                                        this.handleDragEnter(event, index);\n                                    }}\n                                    // called when the tab stops being dragged, move that tab to its new spot\n                                    onDragEnd={this.handleDragEnd.bind(this)}\n                                    // key to control re-rendering of tabs\n                                    key={index}\n                                    // make it active if this is the current tab\n                                    className={`${view.active ? \"active\" : \"\"}`}\n                                    style={{\n                                        // set the color of the tab to be the specified color, or default to the active/inactive color if not specified\n                                        \"backgroundColor\": view.color,\n                                    }}>\n                                    {/* show the display text on the tab */}\n                                    {view.name}\n                                    {/* don't show a close button on the home tab */}\n                                    {view.type !== \"Home\" &&\n                                        <img\n                                            // source of the image (URL)\n                                            src=\"https://png.icons8.com/material/50/000000/delete-sign.png\"\n                                            // text to display if it can't show up\n                                            alt=\"Close Icon\"\n                                            // give it the styling for the close button\n                                            className=\"closeTabIcon\"\n                                            // callback when the \"x\" is clicked\n                                            onClick={(event) => {\n                                                // prevent a separate \"tab was clicked\" event from occuring once this tab gets closed\n                                                event.stopPropagation();\n                                                // close the desired tab\n                                                this.props.tabViewerActions.closeTab(index);\n                                            }} />}\n                                </li>\n                            ))}\n                    </ul>\n                </div>\n                {/* only display if we are currently dragging an element */}\n                {this.state.dragIndicatorX !== null &&\n                    // the drag indicator line\n                    <div\n                        // basic CSS for the moving line, position is defined dynamically here\n                        id=\"dragIndicator\"\n                        // set up its position\n                        style={{\n                            // position it at the X-coordinate determined by drag functions\n                            \"left\": this.state.dragIndicatorX,\n                            // make it in line with tabs\n                            \"top\": this.dragIndicatorY,\n                            // make it as tall as the tabs\n                            \"height\": this.dragIndicatorHeight,\n                        }} />\n                }\n            </div>\n        );\n    }\n}\n\nTabViewer.propTypes = {\n    \"tabViewerActions\": PropTypes.object.isRequired,\n    \"state\": PropTypes.shape({\n        \"views\": PropTypes.array.isRequired,\n    }).isRequired,\n};\n\n/**\n * Set certain props to access Redux states\n * @param {Object} state All possible Redux states\n * @returns {Object} Certain states that are set on props\n */\nfunction mapStateToProps(state) {\n    return {\n        \"state\": state.tabViewer,\n    };\n}\n\n/**\n * Set the \"tabViewerActions\" prop to access Redux actions\n * @param {*} dispatch Redux actions\n * @returns {Object} The actions that are mapped to props.actions\n */\nfunction mapDispatchToProps(dispatch) {\n    return {\n        \"tabViewerActions\": bindActionCreators(tabViewerActions, dispatch),\n    };\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(TabViewer);\n","// react functionality\nimport React, {Component} from \"react\";\n// CSS styling\nimport \"./Heading.css\";\n// prop validation\nimport PropTypes from \"prop-types\";\nimport {bindActionCreators} from \"redux\";\n// tab management\nimport * as tabViewerActions from \"../../actions/tabViewerActions\";\nimport connect from \"react-redux/es/connect/connect\";\n// data for the dropdown\nimport menuList from \"../../data/book_menu.json\";\n\nclass Heading extends Component {\n    constructor() {\n        super();\n        // set the initial state\n        this.state = {\n            // the story menu is by default not selected\n            \"menuActive\": false,\n        };\n        // bind the menu toggle so that sub-elements can properly toggle the menu\n        this.menuToggle = this.menuToggle.bind(this);\n    }\n\n    /**\n     * Toggle the book chapter selection dropdown between open and closed\n     */\n    menuToggle() {\n        this.setState((prevState) => {\n            // set the state of the dropdown to be the opposite of what it was\n            return {\n                \"menuActive\": !prevState.menuActive,\n            };\n        });\n    }\n\n    render() {\n        return (\n            <div className=\"Heading grid-x grid-padding-x\">\n                {/* Flag + title on the left of the header */}\n                <div className=\"large-4 medium-4 cell heading-stuff\">\n                    <div className=\"grid-x grid-margin-x\">\n                        {/* Flag that links back to the home page */}\n                        <a className=\"flag medium-3 medium-offset-1 cell\">\n                            <img\n                                // load image from the correct file\n                                src={require(\"./assets/DENM0001.png\")}\n                                // text if the file can't load\n                                alt=\"Danish Flag\"\n                                // callback for when the function is clicked\n                                onClick={() => {\n                                    // go to the home tab\n                                    this.props.tabViewerActions.switchTabs(0);\n                                }} />\n                        </a>\n                        {/* Text to the right of the flag */}\n                        <h5 className=\"danish-folklore medium-2 cell\">Danish Folklore</h5>\n                        <h6 className=\"etk medium-6 cell\">The Evald Tang <br /> Kristensen Collection</h6>\n                    </div>\n                </div>\n                {/* help button */}\n                <button className=\"medium-offset-6 medium-1 cell help-btn\"\n                    // when clicked, open up the help tab\n                    onClick={() => {\n                        this.props.tabViewerActions.addTab(0, \"Help\", \"Help\");\n                    }}>\n                    {/* creates the ? in a circle */}\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 224 224\" width=\"25\" height=\"25\" style={{\"fill\": \"#000000\"}}><g fill=\"none\" fillRule=\"nonzero\" stroke=\"none\" strokeWidth=\"1\" strokeLinecap=\"butt\" strokeLinejoin=\"miter\" strokeMiterlimit=\"10\" strokeDasharray=\"\" strokeDashoffset=\"0\" fontFamily=\"none\" fontWeight=\"none\" fontSize=\"none\" textAnchor=\"none\" style={{\"mixBlendMode\": \"normal\"}}><path d=\"M0,224v-224h224v224z\" fill=\"none\"></path><g fill=\"#ffffff\"><path d=\"M112,8.96c-56.85436,0 -103.04,46.18564 -103.04,103.04c0,56.85436 46.18564,103.04 103.04,103.04c56.85436,0 103.04,-46.18564 103.04,-103.04c0,-56.85436 -46.18564,-103.04 -103.04,-103.04zM112,17.92c52.01201,0 94.08,42.06799 94.08,94.08c0,52.01201 -42.06799,94.08 -94.08,94.08c-52.01201,0 -94.08,-42.06799 -94.08,-94.08c0,-52.01201 42.06799,-94.08 94.08,-94.08zM113.295,56.035c-16.7104,0 -27.79028,10.12536 -30.205,25.55c-0.1568,0.96768 0.31857,1.60622 1.28625,1.7675l10.12375,1.77625c0.96768,0.16128 1.60622,-0.32305 1.7675,-1.28625c1.9264,-9.80224 7.70791,-15.26875 16.70375,-15.26875c9.1616,0 15.58375,5.78788 15.58375,14.945c0,5.4656 -1.92458,9.15992 -7.5425,16.87l-10.77125,14.77875c-3.37344,4.66368 -4.8125,8.03922 -4.8125,14.4725v6.58c0,0.9632 0.63805,1.61042 1.60125,1.5925h10.605c0.9632,0 1.60125,-0.63805 1.60125,-1.60125v-5.13625c0,-5.46112 0.97034,-7.71211 4.1825,-12.04875l10.7625,-14.7875c5.4656,-7.55328 8.19,-13.17169 8.19,-20.88625c0,-15.90848 -11.72969,-27.3175 -29.07625,-27.3175zM106.23375,150.045c-0.96768,0 -1.61,0.6468 -1.61,1.61v13.81625c0,0.9632 0.63784,1.60125 1.61,1.60125h12.215c0.95872,0 1.60125,-0.63357 1.60125,-1.60125v-13.81625c0,-0.95872 -0.63805,-1.61 -1.60125,-1.61z\"></path></g></g></svg>\n                </button>\n                {/* Book icon to open the chapter selection dropdown */}\n                <div\n                    // CSS classes\n                    className=\"Hamburger-Menu medium-1 cell\"\n                    // toggle the menu when this is clicked\n                    onClick={this.menuToggle}>\n                    <img\n                        // from where to load the image\n                        src=\"https://png.icons8.com/wired/64/ffffff/book.png\"\n                        style={{\"height\": \"2.9em\", \"paddingTop\": \"7px\", \"paddingLeft\": \"10px\"}}\n                        alt=\"book\" />\n                </div>\n                {/* dropdown menu that links to the various chapters */}\n                {this.state.menuActive &&\n                    <div className=\"Menu\" onClick={this.menuToggle}>\n                        <div className=\"solid\">\n                            {/* little open book at the top right */}\n                            <div className=\"Hamburger-Menu\" onClick={this.menuToggle}>\n                                <img src=\"https://png.icons8.com/wired/50/ffffff/literature.png\" style={{\"height\": \"2.9em\", \"paddingTop\": \"5px\"}} alt=\"open book\" onClick={this.menuToggle} />\n                            </div>\n                            {/* list of all the chapters */}\n                            <ul className=\"list\">\n                                {/* for each of the chapter links */}\n                                {menuList.map((menuItem, i) => (\n                                    // return a single element of the list\n                                    <li\n                                        // unique key for react re-rendering\n                                        key={i}\n                                        // style it as a dropdown element\n                                        className=\"menu-item\"\n                                        // callback when this option is clicked\n                                        onClick={(event) => {\n                                            // prevent default click behavior\n                                            event.preventDefault();\n                                            // add a tab to the desired chapter\n                                            this.props.tabViewerActions.addTab(menuItem.id - 3, menuItem.name, \"Book\");\n                                        }}\n                                    >{menuItem.name}</li>\n                                ))}\n                            </ul>\n                        </div>\n                    </div>\n                }\n            </div>\n\n        );\n    }\n}\n\nHeading.propTypes = {\n    // must have tabViewerActions to open up a new book tab\n    \"tabViewerActions\": PropTypes.object.isRequired,\n};\n\nfunction mapStateToProps(state) {\n    return {\n        \"state\": state.tabViewer,\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        \"tabViewerActions\": bindActionCreators(tabViewerActions, dispatch),\n    };\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Heading);\n","import React, {Component} from \"react\";\nimport TabViewer from \"./components/TabViewer/TabViewer\";\nimport Heading from \"./components/Heading/Heading.js\";\nimport \"./App.css\";\n\nclass App extends Component {\n    constructor() {\n        super();\n        // start in a state of loading\n        this.state = {\n            \"loading\": true,\n        };\n    }\n\n    componentDidMount() {\n        // simulate async action and remove loader\n        setTimeout(() => this.setState({\"loading\": false}), 1500);\n    }\n\n    render() {\n        return (\n            <div className=\"App grid-y medium-grid-frame full\">\n                {/* without nested div, the Book View gets mega-compressed */}\n                <div>\n                    {/* Top banner with flag + title on left, book icon on right */}\n                    <Heading />\n                    {/* Everything else on the page */}\n                    <TabViewer />\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default App;\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","// function to get tab state from storage\nimport {getSessionStorage} from \"../data-stores/SessionStorageModel\";\n\n// export the initialized state\nexport default {\n    \"tabState\": InitializeTabs(),\n    \"search\": InitializeSearch(),\n    \"navigator\": InitializeNavigator(),\n};\n\n/**\n * Initialize the tabs, whether from a clean state or session storage\n * @returns {Object} The state of the tabs\n */\nfunction InitializeTabs() {\n    // get tab state from storage\n    const CachedState = getSessionStorage(\"TabViewerSessionState\");\n    // if we have previously loaded tabs\n    if (CachedState) {\n        // start up with those previous tabs\n        return {\n            \"views\": CachedState.views,\n        };\n    } else {\n        // otherwise, just start out with a single home tab\n        return {\n            \"views\": [{\n                \"active\": true,\n                \"id\": 0,\n                \"name\": \"Home\",\n                \"type\": \"Home\",\n                \"color\": null,\n            }],\n        };\n    }\n}\n\n/**\n * Initialize the search state\n * @returns {Object} The initial search state\n */\nfunction InitializeSearch() {\n    return {\n        // initial input value based on the props (as if search is already complete)\n        \"inputValue\": \"\",\n        // no search yet, can't be a keyword search\n        \"keywordSearch\": false,\n        // we aren't searching on first load\n        \"searchingState\": false,\n        // results to display as suggestions or displayList in Navigator\n        \"results\": [],\n        // ontology that's being displayed\n        \"ontology\": \"\",\n    };\n}\n\n/**\n * Initialize the navigator state\n * @returns {Object} The initial navigator state\n */\nfunction InitializeNavigator() {\n    return {\n        // should be set up once everything is finished rendering\n        \"displayList\": [],\n        // array of display artifact objects (JSON)\n        \"itemsList\": [],\n        \"placeList\": [],\n        // default start date\n        \"fromDate\": 1887,\n        // default end date\n        \"toDate\": 1899,\n        // start with the filter off\n        \"timeFilterOn\": false,\n    };\n}\n","// types of actions we can perform\nimport * as actions from \"../actions/actionTypes\";\n// data helpers\nimport {\n    DisplayArtifactToOntology,\n    dateFilterHelper,\n    ontologyToID, getPlacesByID,\n} from \"../data-stores/DisplayArtifactModel\";\n// starter state if there is no previous data\nimport initialState from \"./initialState\";\nimport {ArrNoDupe} from \"../utils\";\n\n/**\n * Generic handler for navigator\n * @param {Object} state The pre-update state\n * @param {Object} action Action to do to the tabs\n * @returns {Object} The updated state\n */\nexport default function navigator(state = initialState.navigator, {payload, type}) {\n    // depending on which action to perform\n    switch (type) {\n        // if we are to add a tab\n        case actions.UPDATE_ITEMS:\n            return updateItems(state);\n        // if we are to add a tab\n        case actions.DISPLAY_ITEMS:\n            return displayItems(state, payload);\n        // if we are to add a tab\n        case actions.TIME_FILTER_HANDLER:\n            return timeFilterHandler(state, payload);\n        // unhandled action type\n        default:\n            // warn that we hit a bad action\n            console.warn(`Invalid action: ${type}`);\n            // don't change anything\n            return state;\n    }\n}\n\n/**\n * Update the items displayed in Navigator\n * @param {Object} prevState Pre-update state\n * @returns {Object} State with an updated displayList\n */\nfunction updateItems(prevState) {\n    // get the currently displayed ontology, and potential items to display\n    const {fromDate, itemsList, timeFilterOn, toDate} = prevState;\n    if (itemsList.length > 0) {\n        const displayOntology = DisplayArtifactToOntology(itemsList[0]);\n        // if we have a restricted time range to look at\n        if (timeFilterOn === true) {\n            // key to get the ID of the items to display\n            const idKey = ontologyToID[displayOntology],\n                // get display artifacts that fit the time filter\n                idsInRange = dateFilterHelper(fromDate, toDate, displayOntology)\n                    // convert them to IDs; this is to speed filtering later on\n                    .map((item) => item[idKey]);\n            return {\n                ...prevState,\n                // update the displayed items\n                \"displayList\": itemsList.filter(\n                    // only show items that are in the time range\n                    (item) => idsInRange.includes(item[idKey])\n                ),\n            };\n        } else if (timeFilterOn === false) {\n            // no filter, show all the possible items\n            return {\n                ...prevState,\n                \"displayList\": itemsList,\n            };\n        } else {\n            // time filter isn't boolean, what?\n            console.warn(`Invalid time filter state: ${timeFilterOn}`);\n            return prevState;\n        }\n    } else {\n        return {\n            ...prevState,\n            \"displayList\": [],\n        };\n    }\n}\n\n/**\n * Set new display items\n * @param {Object} prevState Previous state to change\n * @param {Object} list Items to display\n * @returns {Object} The state with new items\n */\nfunction displayItems(prevState, list) {\n    // set placeList - if people, then pull places associated with people, etc.\n    let PlaceList = [];\n    let InitialItem = list[0];\n    if(InitialItem !== undefined){\n        //if item is a person\n        if('residence_place' in InitialItem){\n            list.forEach((person)=>{\n                if(person['residence_place'] !== null){\n                    let place = {...person['residence_place'], full_name: person['full_name']};\n                    // console.log(place);\n                    PlaceList.push(place);\n                }\n            });\n            // PlaceList = ArrNoDupe(PlaceList);\n        } else if( 'latitude' in InitialItem ){ // if item is a place\n            PlaceList = list;\n        } else { //if item is a story\n            console.log(list);\n            list.forEach((story)=>{\n                if(story['place_recorded'] !== undefined){\n                    // console.log(getPlacesByID(story['place_recorded'].id));\n                    let place = {...getPlacesByID(story['place_recorded'].id), full_name: story['full_name']};\n                    PlaceList.push(place);\n                }\n            });\n            // PlaceList = ArrNoDupe(PlaceList);\n        }\n    }\n\n    // set up the items based on\n    const newState = {\n        ...prevState,\n        \"displayList\": list,\n        \"itemsList\": list,\n        \"placeList\": PlaceList,\n    };\n    if (newState.timeFilterOn === true) {\n        // if the time filter is on, we need\n        return updateItems(newState);\n    }\n    return newState;\n}\n\n/**\n * Handler for when a timeline filter is changed\n * @param {Object} prevState Pre-event state\n * @param {Object} target Describes the action that occured\n * @returns {Object} The new, post-event state\n */\nfunction timeFilterHandler(prevState, {checked, name, value}) {\n    switch (name) {\n        case \"fromYear\": {\n            const newState = {\n                ...prevState,\n                \"fromDate\": value,\n            };\n            // check if the dates are valid dates (4 digits, between 1887 and 1899)\n            if (newState.fromDate >= 1887) {\n                return updateItems(newState);\n            } else {\n                return newState;\n            }\n        }\n        case \"toYear\": {\n            const newState = {\n                ...prevState,\n                \"toDate\": value,\n            };\n            // check if the dates are valid dates (4 digits, between 1887 and 1899)\n            if (newState.toDate <= 1899) {\n                return updateItems(newState);\n            } else {\n                return newState;\n            }\n        }\n        case \"timelineFilter\":\n            return updateItems({\n                ...prevState,\n                \"timeFilterOn\": checked,\n            });\n        default:\n            console.warn(`Invalid filter: ${name}`);\n            return prevState;\n    }\n}\n","// types of actions we can perform\nimport * as actions from \"../actions/actionTypes\";\n// fuzzy searcher\nimport Fuse from \"fuse.js\";\n// array-ifier\nimport {arrayTransformation} from \"../utils\";\n// function to get keywords\nimport {getKeywords} from \"../data-stores/DisplayArtifactModel\";\n// starter state if there is no previous data\nimport initialState from \"./initialState\";\n\nconst keywords = getKeywords();\n\n/**\n * Generic handler for searching keywords or display artifacts\n * @param {Object} state The pre-update state\n * @param {Object} action to do to the tabs (FUZZY_SEARCH, SEARCH_KEYWORD, SEARCH_DISPLAYARTIFACT)\n * @returns {Object} The updated state\n */\nexport default function search(state = initialState.search, action) {\n    // depending on which action to perform\n    switch (action.type) {\n        case actions.FUZZY_SEARCH:\n            return handleFuzzySearch(state, action.payload);\n        case actions.SEARCH_KEYWORD:\n            return searchKeyword(state, action.payload);\n        case actions.SEARCH_ARTIFACT: {\n            // get the state by performing the search\n            const newState = searchArtifact(state, action.payload);\n            // dispatch the action to update navigator's items with these results\n            action.asyncDispatch({\n                \"type\": actions.DISPLAY_ITEMS,\n                \"payload\": newState.results,\n            });\n            // return the post-search state\n            return newState;\n        }\n        case actions.SET_SEARCH_STATE:\n            return setSearchState(state, action.payload);\n        default:\n            // warn that we hit a bad action\n            console.warn(`Invalid action: ${action.type}`);\n            // don't change anything\n            return state;\n    }\n}\n\n/**\n * Set the state of searching\n * @param {Object} ShallowPrevState The pre-update search state\n * @param {Boolean} newState Whether or not to be in a state of searching\n * @returns {Object} The updated search state\n */\nfunction setSearchState(ShallowPrevState, newState) {\n    return {\n        ...ShallowPrevState,\n        \"searchingState\": newState,\n    };\n}\n\n/**\n *\n * @param {*} ShallowPrevState\n * @param {*} param1\n */\nfunction handleFuzzySearch(ShallowPrevState, {SearchInput, DisplayList}) {\n    let NewState = {...ShallowPrevState};\n    console.log(\"hi from fuzzy search. display list\", DisplayList);\n    // define SearchableData = Is there anything in DisplayList? If yes, search within DisplayList, If no, search within Keywords\n    let SearchableData = DisplayList.length > 0 ? DisplayList : keywords;\n    // initialize new fuse object (fuzzy search dependency)\n    const fuse = new Fuse(SearchableData, {\n        \"shouldSort\": true,\n        \"threshold\": .2,\n        \"location\": 0,\n        \"distance\": 10000,\n        \"maxPatternLength\": 64,\n        \"minMatchCharLength\": 1,\n        \"keys\": [\n            \"search_string\",\n            \"keyword_name\",\n            \"name\",\n            \"full_name\",\n        ],\n    });\n    let SearchResults;\n    // if SearchInput has something call fuzzy search\n    if (SearchInput.length > 0) {\n        SearchResults = fuse.search(SearchInput);\n    } else {\n        // if SearchInput is empty (aka, user just clicked on search but hasn't entered anything), fill with 100 suggestions\n        SearchResults = SearchableData.slice(0, 100);\n    }\n    // console.log(SearchResults, 'search results');\n\n    NewState = {\n        ...NewState,\n        \"inputValue\": SearchInput,\n        \"results\": SearchResults,\n        \"searchingState\": true,\n    };\n\n    return NewState;\n}\n\n// TODO: implement searchDisplayArtifact function by copying search component's handleSearch\n/**\n * Search for an artifact, and update the search state accordingly\n * @param {Object} ShallowPrevState Pre-search state\n * @param {*} DisplayArtifact Artifact to search for, or a keyword string\n * @returns {Object} Post-search state\n */\nfunction searchArtifact(ShallowPrevState, DisplayArtifact) {\n    let artifact = DisplayArtifact,\n        // what to display as the search\n        InputValue = \"\",\n        // create an immutable copy of the previous state\n        NewState = {...ShallowPrevState},\n        // list of results of search\n        SearchList = [];\n    // check if the artifact is just a keyword string\n    if (typeof DisplayArtifact === \"string\") {\n        // if it is, we need to get the keyword object from keywords\n        const match = keywords.find((keyword) => keyword.keyword_name === artifact);\n        // if we found a mtach\n        if (typeof match !== \"undefined\") {\n            // set artifact to that match\n            artifact = match;\n        } else {\n            // if there is no a keyword match, just pull the first thing from results\n            SearchList = NewState.results;\n            InputValue = artifact;\n            // set first suggested item\n            artifact = SearchList[0];\n        }\n    } else {\n        SearchList = [artifact];\n    }\n    // check if DisplayArtifact is a story, keyword, place, or person\n    if (typeof artifact !== \"undefined\") {\n        // for keywords\n        if (\"keyword_id\" in artifact) {\n            // results are all associated stories\n            SearchList = arrayTransformation(artifact.stories.story);\n            // input value is the keyword's name\n            InputValue = artifact.keyword_name;\n        } else if (\"story_id\" in artifact) {\n            // for stories, input value is its search string\n            InputValue = artifact.search_string;\n        } else if (\"person_id\" in artifact) {\n            // for people, input value is their whole name\n            InputValue = artifact.full_name;\n        } else if (\"place_id\" in artifact) {\n            // for places, input value is their name\n            InputValue = artifact.name;\n        }\n        NewState = {\n            \"searchingState\": false, // stops searching\n            \"inputValue\": InputValue, // updates search field with search result\n            \"results\": SearchList, // sets up list of results to display in navigator,\n            \"keywordSearch\": false,\n        };\n    } else {\n        console.warn(\"DisplayArtifact is undefined\");\n    }\n    return NewState;\n}\n\n// TODO: implement searchKeyword function...maybe if the searchDisplayArtifact function works out, I won't need to do this :D\nfunction searchKeyword(ShallowPrevState, Keyword) {\n    let NewState = {...ShallowPrevState};\n}\n","// starter state if there is no previous data\nimport initialState from \"./initialState\";\n// types of actions we can perform\nimport * as actions from \"../actions/actionTypes\";\n// function to set session storage data\nimport {setSessionStorage} from \"../data-stores/SessionStorageModel\";\n\n/**\n * Switch to a new active tab\n * @param {Object} OldState The pre-switch state\n * @param {Number} SwitchToIndex The tab index to switch to\n * @returns {Object} The state with the new active tab\n */\nfunction switchTab(OldState, SwitchToIndex) {\n    // create an immutable separate copy of the old state\n    let NewState = {...OldState};\n    // assuming that the index is a valid tab\n    if (SwitchToIndex < NewState.views.length) {\n        // update the views with the new active tab\n        NewState.views = NewState.views.map((currentView, currentIndex) => {\n            return {\n                // keep each view mostly the same\n                ...currentView,\n                // but set it to active if it is the index to switch to (inactive otherwise)\n                \"active\": currentIndex === SwitchToIndex,\n            };\n        });\n        // update session storage with the new active tab\n        setSessionStorage(\"TabViewerSessionState\", NewState);\n    } else {\n        // invalid index, raise a warning\n        console.warn(`Invalid switch index ${SwitchToIndex}`);\n    }\n    // return the state with the new active tab, or the same state if the index was invalid\n    return NewState;\n}\n\n/**\n * Remove a tab from the views by index\n * @param {Object} ShallowNewState The current, pre-removal state\n * @param {Number} RemoveIndex The index of the view to remove\n * @returns {Object} The state with the removed tab\n */\nfunction closeTab(ShallowNewState, RemoveIndex) {\n    // create a copy of the state to ensure immutability\n    let NewState = {...ShallowNewState};\n    // if the active view will be closed\n    if (NewState.views[RemoveIndex].active === true) {\n        // set the home view to be active\n        NewState.views[0].active = true;\n    }\n    // remove the tab by the requested index\n    NewState.views.splice(RemoveIndex, 1);\n    // update session storage with our new state\n    setSessionStorage(\"TabViewerSessionState\", NewState);\n    // return the updated state\n    return NewState;\n}\n\n/**\n * Adds a tab to the views if needed\n * @param {Object} ShallowNewState The current state, before the tab is added\n * @param {Object} payload An action payload containing ID of the tab to add, display name of the tab, and the tab's type (People/Places/Fieldtrips/Book/Graph/Story)\n * @returns {Object} The new, updated state\n */\nfunction addTab(ShallowNewState, {DisplayArtifactID, name, type}) {\n    // get a copy of the state to ensure immutability\n    let newState = {...ShallowNewState};\n    // see if we can get the preexisting view matching the tab to create\n    const matchingViewIndex = ShallowNewState.views.findIndex((view) => (\n        // check if the name and type matches\n        view.name === name && view.type === type && view.id === DisplayArtifactID\n    ));\n    if (matchingViewIndex !== -1) {\n        // if we're trying to re-add an already existing view\n        // just switch to that tab\n        return switchTab(ShallowNewState, matchingViewIndex);\n    } else {\n        // we actually need to make a new tab and view\n        // get a copy of the state (ensure immutability)\n        // object representing the new view\n        const newView = {\n            // id is the passed ID\n            \"id\": DisplayArtifactID,\n            // set it to the active view\n            \"active\": true,\n            // name is the passed name\n            \"name\": name,\n            // type is the passed type\n            \"type\": type,\n            // color is the default active/inactive color\n            \"color\": null,\n        };\n        // for each of the preexisting views\n        let updatedViews = newState.views.map((view) => {\n            return {\n                // leave the view mostly untouched...\n                ...view,\n                // ...but set it to be inactive\n                \"active\": false,\n            };\n            // and add in the new view at the end\n        }).concat(newView);\n        // if our window is smaller than 1100px (95% sure about the units)\n        if (window.innerWidth <= 1100) {\n            // if we have more than 5 tabs already (including home)\n            if (updatedViews.length > 5) {\n                // remove the first non-Home tab\n                updatedViews.splice(1, 1);\n            }\n        } else if (updatedViews.length > 6) {\n            // if we have more than 6 tabs already (including home)\n            // remove the first non-Home tab\n            updatedViews.splice(1, 1);\n        }\n        // update the state's views\n        newState.views = updatedViews;\n        // update session storage with our new, updated state\n        setSessionStorage(\"TabViewerSessionState\", newState);\n        // return our updated state\n        return newState;\n    }\n}\n\n/**\n * Move a tab to a new index\n * Note that you cannot move a tab to index 0 (Home is fixed to index 0)\n * @param {Object} OldState The pre-drag state of the tabs\n * @param {Object} indices Object containing the tab index to move (OldTabIndex) and where to move it to (NewTabIndex)\n * @returns {Object} The updated, tab-moved state\n */\nfunction moveTab(OldState, {OldTabIndex, NewTabIndex}) {\n    // make sure we are not affecting the home tab\n    if (NewTabIndex !== 0 && OldTabIndex !== 0) {\n        // get a copy of the views to ensure immutability\n        let {views} = {...OldState};\n        // get the view that we are to move\n        const viewToMove = views[OldTabIndex];\n        // delete the tab at its old index\n        views.splice(OldTabIndex, 1);\n        // re-add it at the desired index\n        views.splice(NewTabIndex, 0, viewToMove);\n        return {\n            // leave the state mostly unmodified\n            ...OldState,\n            // but update the view with the move tab\n            views,\n        };\n    } else {\n        // can't move home tab!\n        console.warn(\"Cannot move the home tab!\");\n        // don't change anything\n        return OldState;\n    }\n}\n\n/**\n * Update a tab's attributes\n * @param {Object} OldState The pre-update state\n * @param {Object} payload Contains TabIndex, to indicate the tab to change, and updates that indicate what properties to set to what\n * @returns {Object} The state with the updated tab\n */\nfunction updateTab(OldState, {TabIndex, updates}) {\n    // get a new copy of the state to keep immutability\n    let newState = {...OldState};\n    // get the view to update\n    let view = newState.views[TabIndex];\n    // update that view\n    newState.views[TabIndex] = {\n        // use the previous properties\n        ...view,\n        // but override any specified properties\n        ...updates,\n    };\n    // return the state with the updated tab\n    return newState;\n}\n\n/**\n * Generic handler for manipulating the tabs and updating their state\n * @param {Object} state The pre-update state\n * @param {Object} action Action to do to the tabs (ADD_TAB, SWITCH_TABS, CLOSE_TAB)\n * @returns {Object} The updated state\n */\nexport default function tabViewer(state = initialState.tabState, action) {\n    // depending on which action to perform\n    switch (action.type) {\n        // if we are to add a tab\n        case actions.ADD_TAB:\n            console.log(\"ADD_TAB ACTION\", state);\n            return addTab(state, action.payload);\n        // if we are to switch between tabs\n        case actions.SWITCH_TABS:\n            console.log(\"SWITCH_TABS ACTION\", state);\n            return switchTab(state, action.payload);\n        // if we are to close a tab\n        case actions.CLOSE_TAB:\n            console.log(\"CLOSE_TAB ACTION\", state);\n            return closeTab(state, action.payload);\n        // if we are to move around a tab\n        case actions.MOVE_TAB:\n            console.log(\"MOVE_TAB ACTION\", state);\n            return moveTab(state, action.payload);\n        // if we are to change a tab's color\n        case actions.UPDATE_TAB:\n            console.log(\"UPDATE_TAB ACTION\", state);\n            return updateTab(state, action.payload);\n        // unhandled action type\n        default:\n            // warn that we hit a bad action\n            console.warn(`Invalid action: ${action.type}`);\n            // don't change anything\n            return state;\n    }\n}\n","import {combineReducers} from \"redux\";\nimport navigator from \"./navigatorReducer\";\nimport search from \"./searchReducer\";\nimport tabViewer from \"./tabViewerReducer\";\n\nconst rootReducer = combineReducers({\n    navigator,\n    search,\n    tabViewer,\n});\n\nexport default rootReducer;\n","import {createStore, compose, applyMiddleware} from 'redux';\nimport rootReducer from '../reducers/rootReducer';\nimport thunk from 'redux-thunk';\n\nconst composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\n// Black magic, see https://stackoverflow.com/a/41260990\nconst asyncDispatchMiddleware = store => next => action => {\n    let syncActivityFinished = false;\n    let actionQueue = [];\n\n    function flushQueue() {\n        actionQueue.forEach(a => store.dispatch(a)); // flush queue\n        actionQueue = [];\n    }\n\n    function asyncDispatch(asyncAction) {\n        actionQueue = actionQueue.concat([asyncAction]);\n        if (syncActivityFinished) {\n            flushQueue();\n        }\n    }\n\n    const actionWithAsyncDispatch = Object.assign({}, action, {asyncDispatch});\n\n    next(actionWithAsyncDispatch);\n    syncActivityFinished = true;\n    flushQueue();\n};\n\n/**\n * Redux black magic\n */\nexport default function configureStore() {\n    return createStore(\n        rootReducer,\n        composeEnhancer(applyMiddleware(thunk, asyncDispatchMiddleware)),\n    );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport registerServiceWorker from './registerServiceWorker';\n\nimport { Provider } from 'react-redux';\nimport configureStore from './data-stores/configureStore';\n\nconst store = configureStore();\n\nReactDOM.render(\n    <Provider store={store}>\n        <App />\n    </Provider>\n    , document.getElementById('root'));\nregisterServiceWorker();\n"],"sourceRoot":""}